{"version":3,"file":"main.36ff9202be68d6bfdc3f.js","mappings":"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CA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;UAEA;UACA;;;;;WC5BA;WACA;WACA;WACA;WACA,+BAA+B,wCAAwC;WACvE;WACA;WACA;WACA;WACA,iBAAiB,qBAAqB;WACtC;WACA;WACA,kBAAkB,qBAAqB;WACvC;WACA;WACA,KAAK;WACL;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;;;;WC3BA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,EAAE;WACF;;;;;WCRA;WACA;WACA;WACA;WACA;;;;;WCJA;;;;;WCAA;WACA;WACA;WACA;WACA,GAAG;WACH;WACA;WACA,CAAC;;;;;WCPD;;;;;WCAA;WACA;WACA;WACA;WACA,uBAAuB,4BAA4B;WACnD;WACA;WACA;WACA,iBAAiB,oBAAoB;WACrC;WACA,mGAAmG,YAAY;WAC/G;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,mEAAmE,iCAAiC;WACpG;WACA;WACA;WACA;;;;;WCzCA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;WCNA;WACA;WACA;WACA;WACA;;;;;WCJA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;;;;WClBA;;WAEA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;WACA,iCAAiC;;WAEjC;WACA;WACA;WACA,KAAK;WACL,eAAe;WACf;WACA;WACA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,MAAM,qBAAqB;WAC3B;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;;;;;UErFA;UACA;UACA;UACA;UACA","sources":["webpack://edgewater/../@mckennatim/mqtt-hooks/src/context.js","webpack://edgewater/../@mckennatim/mqtt-hooks/src/fetches.js","webpack://edgewater/../@mckennatim/mqtt-hooks/src/index.js","webpack://edgewater/../@mckennatim/mqtt-hooks/src/mq.js","webpack://edgewater/../@mckennatim/mqtt-hooks/src/mqttws31.js","webpack://edgewater/../@mckennatim/mqtt-hooks/src/processMessage.js","webpack://edgewater/../@mckennatim/mqtt-hooks/src/provider.js","webpack://edgewater/../@mckennatim/mqtt-hooks/src/useDevSpecs.js","webpack://edgewater/../@mckennatim/mqtt-hooks/src/utility.js","webpack://edgewater/./src/appInit.js","webpack://edgewater/./src/components/App.js","webpack://edgewater/./src/components/NavCtrl.js","webpack://edgewater/./src/components/ResponsivePages.js","webpack://edgewater/./src/contexts/acontext.js","webpack://edgewater/./src/index.js","webpack://edgewater/./src/responsiveRoutes.js","webpack://edgewater/./src/utilities/getCfg.js","webpack://edgewater/./src/utilities/storageLocal.js","webpack://edgewater/webpack/bootstrap","webpack://edgewater/webpack/runtime/chunk loaded","webpack://edgewater/webpack/runtime/compat get default export","webpack://edgewater/webpack/runtime/define property getters","webpack://edgewater/webpack/runtime/ensure chunk","webpack://edgewater/webpack/runtime/get javascript chunk filename","webpack://edgewater/webpack/runtime/getFullHash","webpack://edgewater/webpack/runtime/global","webpack://edgewater/webpack/runtime/hasOwnProperty shorthand","webpack://edgewater/webpack/runtime/load script","webpack://edgewater/webpack/runtime/make namespace object","webpack://edgewater/webpack/runtime/node module decorator","webpack://edgewater/webpack/runtime/publicPath","webpack://edgewater/webpack/runtime/jsonp chunk loading","webpack://edgewater/webpack/before-startup","webpack://edgewater/webpack/startup","webpack://edgewater/webpack/after-startup"],"sourcesContent":["import { createContext } from \"react\";\n\nexport const Context = createContext();","\n\nconst fetchWeekSched = (ls, cfg, devid, senrel)=>{\n  var lsh = ls.getItem()\n  if(lsh){\n    let url= cfg.url.api+'/admin/u/scheds/'+devid+'/'+senrel\n    let options= {\n      headers: {'Authorization': 'Bearer '+ lsh['token']},\n      method: 'GET'\n    }  \n    return(\n      fetch(url, options)\n        .then((response)=>response.json())\n    ) \n  }else{\n    let p2 =Promise.resolve({qmessage:'you dont exist! '})\n    return p2\n  } \n}\n\nconst replaceWeekSched = (ls, cfg, keyvals)=>{\n  console.log('in rplace')\n  var lsh = ls.getItem()\n  console.log('keyvals: ', keyvals)\n  if(lsh){\n    let url= cfg.url.api+'/admin/u/scheds'\n    let options= {\n      headers: {\n        'Authorization': 'Bearer '+ lsh['token'],\n        'Content-Type': 'application/json'\n      },\n      method: 'PUT',\n      body:JSON.stringify(keyvals)\n    }  \n    return(\n      fetch(url, options)\n        .then((response)=>response.json())\n    ) \n  }else{\n    let p2 =Promise.resolve({qmessage:'you dont exist! '})\n    return p2\n  } \n}\nconst replaceZoneScheds = (ls, cfg, keyvals)=>{\n  console.log('in rplace')\n  var lsh = ls.getItem()\n  console.log('keyvals: ', keyvals)\n  if(lsh){\n    let url= cfg.url.api+'/admin/u/zonescheds'\n    let options= {\n      headers: {\n        'Authorization': 'Bearer '+ lsh['token'],\n        'Content-Type': 'application/json'\n      },\n      method: 'PUT',\n      body:JSON.stringify(keyvals)\n    }  \n    return(\n      fetch(url, options)\n        .then((response)=>response.json())\n    ) \n  }else{\n    let p2 =Promise.resolve({qmessage:'you dont exist! '})\n    return p2\n  } \n}\n\nconst fetchSched =(ls,cfg,devid,senrel,dow)=>{\n  var lsh = ls.getItem()\n  if(lsh){\n    let url= `${cfg.url.api}/admin/u/unhold/${devid}/${senrel}/${dow}`\n    let options= {\n      headers: {\n        'Authorization': 'Bearer '+ lsh['token'],\n        'Content-Type': 'application/json'\n      },\n      method: 'GET'\n    }  \n    return(\n      fetch(url, options)\n        .then((response)=>response.json())\n    ) \n  }else{\n    let p2 =Promise.resolve({qmessage:'you dont exist! '})\n    return p2\n  }\n}\n\nconst deleteHolds = (ls,cfg, ds)=>{\n  var lsh = ls.getItem()\n  if(lsh){\n    let url= cfg.url.api+'/admin/u/holds'\n    let options= {\n      headers: {\n        'Authorization': 'Bearer '+ lsh['token'],\n        'Content-Type': 'application/json'\n      },\n      method: 'DELETE',\n      body:JSON.stringify(ds)\n    }  \n    return(\n      fetch(url, options)\n        .then((response)=>response.json())\n    ) \n  }else{\n    let p2 =Promise.resolve({qmessage:'you dont exist! '})\n    return p2\n  }\n}\n\nconst replaceHold = (ls,cfg, db)=>{\n  var lsh = ls.getItem()\n  if(lsh){\n    let url= cfg.url.api+'/admin/u/hold'\n    let options= {\n      headers: {\n        'Authorization': 'Bearer '+ lsh['token'],\n        'Content-Type': 'application/json'\n      },\n      method: 'PUT',\n      body:JSON.stringify(db)\n    }  \n    return(\n      fetch(url, options)\n        .then((response)=>response.json())\n    ) \n  }else{\n    let p2 =Promise.resolve({qmessage:'you dont exist! '})\n    return p2\n  }\n}\n\nconst fetchBigData = (ls,cfg, db)=>{\n  var lsh = ls.getItem()\n  if(lsh){\n    let url= cfg.url.api+'/admin/u/bigdata'\n    let options= {\n      headers: {\n        'Authorization': 'Bearer '+ lsh['token'],\n        'Content-Type': 'application/json'\n      },\n      method: 'PUT',\n      body:JSON.stringify(db)\n    }  \n    return(\n      fetch(url, options)\n        .then((response)=>response.json())\n    ) \n  }else{\n    let p2 =Promise.resolve({qmessage:'you dont exist! '})\n    return p2\n  }\n}\n\nexport{fetchWeekSched, replaceWeekSched, replaceZoneScheds,fetchSched, replaceHold, deleteHolds, fetchBigData}","import ProviderLib from \"./provider\";\nimport { processMessage as processMessageLib } from \"./processMessage\";\nimport { useDevSpecs as useDevSpecsLib} from './useDevSpecs'\nimport {Context}from './context'\nimport {connect, monitorFocus, subscribe, req, setupSocket } from './mq'\nimport {startWhen, endWhen, newInterval, add2sched, m2hm, m2ms, getNow, setRelayStatus, whereInSched, hma2time} from './utility'\nimport{fetchWeekSched, replaceWeekSched, replaceZoneScheds,replaceHold,fetchSched, deleteHolds, fetchBigData}from './fetches'\n\nconst getZinfo=(label,zones)=>zones.find((zone)=>zone.id==label)\n\nconst getDinfo=(label, devs)=>{\n  let found = {}\n  Object.keys(devs).map((dev)=>{\n    devs[dev].map((a)=>{\n      if(a.label==label){\n        found.dev = dev\n        found.sr = a.sr\n        found.label= a.label\n        return found\n      }\n    })\n  })\n  return found\n}\n\nexport const ClientSocket = ProviderLib;\nexport const processMessage = processMessageLib;\nexport const useDevSpecs = useDevSpecsLib\nexport {Context, connect, monitorFocus,getZinfo, getDinfo, subscribe, req, setupSocket, startWhen, endWhen, newInterval, add2sched, m2hm, m2ms, getNow, setRelayStatus, whereInSched, hma2time, fetchWeekSched, replaceWeekSched, replaceZoneScheds, replaceHold, fetchSched, deleteHolds, fetchBigData}","\n\nconst connect = (client,lsh, cb)=>{\n  // console.log('in connect')\n  client.connect({\n    onSuccess: (()=>{\n      cb(client)\n    }),\n    onFailure: function (message) {\n      console.log(\"Connection failed: \" + message.errorMessage);\n      //dmessage.innerHTML= \"Connection failed: \" + message.errorMessage;\n    },\n    useSSL: true,\n    userName:lsh.email,\n    password:lsh.token\n  }); \n}\nconst monitorFocus=(window, client, lsh, cb)=>{\n  window.onfocus = ()=>{\n    if(!client.isConnected()){\n      // console.log('focused')\n      connect(client, lsh, (client)=>cb('focused-connected',client))\n    }\n  }\n  window.onblur= ()=>{\n    // console.log('unfocused')\n    if(client.isConnected()){\n      try{\n        client.disconnect()\n        cb('blur-disconnected', client)\n      }catch(err){\n        console.log(err)\n      }\n    }\n  }\n}\n\nfunction req(client, devs, publish, topics){\n  devs.map((dev)=>{\n    topics.map((top, idx)=>publish(client, `${dev}/req`,`{\"id\":${idx},\"req\":\"${top}\"}`))\n  })\n}\n\nfunction subscribe(client, devs, toparr){\n  function subFailure(message){\n    console.log('subscribe failure',message)\n  }\n  devs.map((dev)=>{\n    toparr.map((top)=>client.subscribe(`${dev}/${top}` , {onFailure: subFailure}) )\n  })\n}\n\nconst setupSocket=(client, devs, publish, topics, cb)=>{\n  const thedevs = Object.keys(devs)\n  subscribe(client, thedevs, topics)\n  req(client, thedevs, publish, topics )\n  cb(devs, client)\n}\n\nexport{connect, monitorFocus, subscribe, req, setupSocket}","/*******************************************************************************\n * Copyright (c) 2013 IBM Corp.\n *\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * and Eclipse Distribution License v1.0 which accompany this distribution.\n *\n * The Eclipse Public License is available at\n *    http://www.eclipse.org/legal/epl-v10.html\n * and the Eclipse Distribution License is available at\n *   http://www.eclipse.org/org/documents/edl-v10.php.\n *\n * Contributors:\n *    Andrew Banks - initial API and implementation and initial documentation\n *    Guozhen Huang - improve to umd library\n *******************************************************************************/\n\n(function(factory) {\n    var root = (typeof self == 'object' && self.self === self && self) ||\n      (typeof global == 'object' && global.global === global && global);\n\n    if (typeof define === 'function' && define.amd) {\n      define([], function () {\n        return factory(root)\n      });\n    } else if (typeof exports === 'object') {\n      module.exports = factory(root);\n    } else {\n      if (typeof root.Paho === 'undefined') {\n        root.Paho = {};\n      }\n      root.Paho.MQTT = factory(root);\n    }\n})(function(global) {\n\t// Private variables below, these are only visible inside the function closure\n\t// which is used to define the module.\n\n\tvar version = \"@VERSION@\";\n\tvar buildLevel = \"@BUILDLEVEL@\";\n\n\t/**\n\t * Unique message type identifiers, with associated\n\t * associated integer values.\n\t * @private\n\t */\n\tvar MESSAGE_TYPE = {\n\t\tCONNECT: 1,\n\t\tCONNACK: 2,\n\t\tPUBLISH: 3,\n\t\tPUBACK: 4,\n\t\tPUBREC: 5,\n\t\tPUBREL: 6,\n\t\tPUBCOMP: 7,\n\t\tSUBSCRIBE: 8,\n\t\tSUBACK: 9,\n\t\tUNSUBSCRIBE: 10,\n\t\tUNSUBACK: 11,\n\t\tPINGREQ: 12,\n\t\tPINGRESP: 13,\n\t\tDISCONNECT: 14\n\t};\n\n\t// Collection of utility methods used to simplify module code\n\t// and promote the DRY pattern.\n\n\t/**\n\t * Validate an object's parameter names to ensure they\n\t * match a list of expected variables name for this option\n\t * type. Used to ensure option object passed into the API don't\n\t * contain erroneous parameters.\n\t * @param {Object} obj - User options object\n\t * @param {Object} keys - valid keys and types that may exist in obj.\n\t * @throws {Error} Invalid option parameter found.\n\t * @private\n\t */\n\tvar validate = function(obj, keys) {\n\t\tfor (var key in obj) {\n\t\t\tif (obj.hasOwnProperty(key)) {\n\t\t\t\tif (keys.hasOwnProperty(key)) {\n\t\t\t\t\tif (typeof obj[key] !== keys[key])\n\t\t\t\t\t   throw new Error(format(ERROR.INVALID_TYPE, [typeof obj[key], key]));\n\t\t\t\t} else {\n\t\t\t\t\tvar errorStr = \"Unknown property, \" + key + \". Valid properties are:\";\n\t\t\t\t\tfor (var key in keys)\n\t\t\t\t\t\tif (keys.hasOwnProperty(key))\n\t\t\t\t\t\t\terrorStr = errorStr+\" \"+key;\n\t\t\t\t\tthrow new Error(errorStr);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * Return a new function which runs the user function bound\n\t * to a fixed scope.\n\t * @param {function} User function\n\t * @param {object} Function scope\n\t * @return {function} User function bound to another scope\n\t * @private\n\t */\n\tvar scope = function (f, scope) {\n\t\treturn function () {\n\t\t\treturn f.apply(scope, arguments);\n\t\t};\n\t};\n\n\t/**\n\t * Unique message type identifiers, with associated\n\t * associated integer values.\n\t * @private\n\t */\n\tvar ERROR = {\n\t\tOK: {code:0, text:\"AMQJSC0000I OK.\"},\n\t\tCONNECT_TIMEOUT: {code:1, text:\"AMQJSC0001E Connect timed out.\"},\n\t\tSUBSCRIBE_TIMEOUT: {code:2, text:\"AMQJS0002E Subscribe timed out.\"},\n\t\tUNSUBSCRIBE_TIMEOUT: {code:3, text:\"AMQJS0003E Unsubscribe timed out.\"},\n\t\tPING_TIMEOUT: {code:4, text:\"AMQJS0004E Ping timed out.\"},\n\t\tINTERNAL_ERROR: {code:5, text:\"AMQJS0005E Internal error. Error Message: {0}, Stack trace: {1}\"},\n\t\tCONNACK_RETURNCODE: {code:6, text:\"AMQJS0006E Bad Connack return code:{0} {1}.\"},\n\t\tSOCKET_ERROR: {code:7, text:\"AMQJS0007E Socket error:{0}.\"},\n\t\tSOCKET_CLOSE: {code:8, text:\"AMQJS0008I Socket closed.\"},\n\t\tMALFORMED_UTF: {code:9, text:\"AMQJS0009E Malformed UTF data:{0} {1} {2}.\"},\n\t\tUNSUPPORTED: {code:10, text:\"AMQJS0010E {0} is not supported by this browser.\"},\n\t\tINVALID_STATE: {code:11, text:\"AMQJS0011E Invalid state {0}.\"},\n\t\tINVALID_TYPE: {code:12, text:\"AMQJS0012E Invalid type {0} for {1}.\"},\n\t\tINVALID_ARGUMENT: {code:13, text:\"AMQJS0013E Invalid argument {0} for {1}.\"},\n\t\tUNSUPPORTED_OPERATION: {code:14, text:\"AMQJS0014E Unsupported operation.\"},\n\t\tINVALID_STORED_DATA: {code:15, text:\"AMQJS0015E Invalid data in local storage key={0} value={1}.\"},\n\t\tINVALID_MQTT_MESSAGE_TYPE: {code:16, text:\"AMQJS0016E Invalid MQTT message type {0}.\"},\n\t\tMALFORMED_UNICODE: {code:17, text:\"AMQJS0017E Malformed Unicode string:{0} {1}.\"},\n\t};\n\n\t/** CONNACK RC Meaning. */\n\tvar CONNACK_RC = {\n\t\t0:\"Connection Accepted\",\n\t\t1:\"Connection Refused: unacceptable protocol version\",\n\t\t2:\"Connection Refused: identifier rejected\",\n\t\t3:\"Connection Refused: server unavailable\",\n\t\t4:\"Connection Refused: bad user name or password\",\n\t\t5:\"Connection Refused: not authorized\"\n\t};\n\n\t/**\n\t * Format an error message text.\n\t * @private\n\t * @param {error} ERROR.KEY value above.\n\t * @param {substitutions} [array] substituted into the text.\n\t * @return the text with the substitutions made.\n\t */\n\tvar format = function(error, substitutions) {\n\t\tvar text = error.text;\n\t\tif (substitutions) {\n\t\t  var field,start;\n\t\t  for (var i=0; i<substitutions.length; i++) {\n\t\t\tfield = \"{\"+i+\"}\";\n\t\t\tstart = text.indexOf(field);\n\t\t\tif(start > 0) {\n\t\t\t\tvar part1 = text.substring(0,start);\n\t\t\t\tvar part2 = text.substring(start+field.length);\n\t\t\t\ttext = part1+substitutions[i]+part2;\n\t\t\t}\n\t\t  }\n\t\t}\n\t\treturn text;\n\t};\n\n\t//MQTT protocol and version          6    M    Q    I    s    d    p    3\n\tvar MqttProtoIdentifierv3 = [0x00,0x06,0x4d,0x51,0x49,0x73,0x64,0x70,0x03];\n\t//MQTT proto/version for 311         4    M    Q    T    T    4\n\tvar MqttProtoIdentifierv4 = [0x00,0x04,0x4d,0x51,0x54,0x54,0x04];\n\n\t/**\n\t * Construct an MQTT wire protocol message.\n\t * @param type MQTT packet type.\n\t * @param options optional wire message attributes.\n\t *\n\t * Optional properties\n\t *\n\t * messageIdentifier: message ID in the range [0..65535]\n\t * payloadMessage:\tApplication Message - PUBLISH only\n\t * connectStrings:\tarray of 0 or more Strings to be put into the CONNECT payload\n\t * topics:\t\t\tarray of strings (SUBSCRIBE, UNSUBSCRIBE)\n\t * requestQoS:\t\tarray of QoS values [0..2]\n\t *\n\t * \"Flag\" properties\n\t * cleanSession:\ttrue if present / false if absent (CONNECT)\n\t * willMessage:  \ttrue if present / false if absent (CONNECT)\n\t * isRetained:\t\ttrue if present / false if absent (CONNECT)\n\t * userName:\t\ttrue if present / false if absent (CONNECT)\n\t * password:\t\ttrue if present / false if absent (CONNECT)\n\t * keepAliveInterval:\tinteger [0..65535]  (CONNECT)\n\t *\n\t * @private\n\t * @ignore\n\t */\n\tvar WireMessage = function (type, options) {\n\t\tthis.type = type;\n\t\tfor (var name in options) {\n\t\t\tif (options.hasOwnProperty(name)) {\n\t\t\t\tthis[name] = options[name];\n\t\t\t}\n\t\t}\n\t};\n\n\tWireMessage.prototype.encode = function() {\n\t\t// Compute the first byte of the fixed header\n\t\tvar first = ((this.type & 0x0f) << 4);\n\n\t\t/*\n\t\t * Now calculate the length of the variable header + payload by adding up the lengths\n\t\t * of all the component parts\n\t\t */\n\n\t\tvar remLength = 0;\n\t\tvar topicStrLength = new Array();\n\t\tvar destinationNameLength = 0;\n\n\t\t// if the message contains a messageIdentifier then we need two bytes for that\n\t\tif (this.messageIdentifier != undefined)\n\t\t\tremLength += 2;\n\n\t\tswitch(this.type) {\n\t\t\t// If this a Connect then we need to include 12 bytes for its header\n\t\t\tcase MESSAGE_TYPE.CONNECT:\n\t\t\t\tswitch(this.mqttVersion) {\n\t\t\t\t\tcase 3:\n\t\t\t\t\t\tremLength += MqttProtoIdentifierv3.length + 3;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 4:\n\t\t\t\t\t\tremLength += MqttProtoIdentifierv4.length + 3;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tremLength += UTF8Length(this.clientId) + 2;\n\t\t\t\tif (this.willMessage != undefined) {\n\t\t\t\t\tremLength += UTF8Length(this.willMessage.destinationName) + 2;\n\t\t\t\t\t// Will message is always a string, sent as UTF-8 characters with a preceding length.\n\t\t\t\t\tvar willMessagePayloadBytes = this.willMessage.payloadBytes;\n\t\t\t\t\tif (!(willMessagePayloadBytes instanceof Uint8Array))\n\t\t\t\t\t\twillMessagePayloadBytes = new Uint8Array(payloadBytes);\n\t\t\t\t\tremLength += willMessagePayloadBytes.byteLength +2;\n\t\t\t\t}\n\t\t\t\tif (this.userName != undefined)\n\t\t\t\t\tremLength += UTF8Length(this.userName) + 2;\n\t\t\t\tif (this.password != undefined)\n\t\t\t\t\tremLength += UTF8Length(this.password) + 2;\n\t\t\tbreak;\n\n\t\t\t// Subscribe, Unsubscribe can both contain topic strings\n\t\t\tcase MESSAGE_TYPE.SUBSCRIBE:\n\t\t\t\tfirst |= 0x02; // Qos = 1;\n\t\t\t\tfor ( var i = 0; i < this.topics.length; i++) {\n\t\t\t\t\ttopicStrLength[i] = UTF8Length(this.topics[i]);\n\t\t\t\t\tremLength += topicStrLength[i] + 2;\n\t\t\t\t}\n\t\t\t\tremLength += this.requestedQos.length; // 1 byte for each topic's Qos\n\t\t\t\t// QoS on Subscribe only\n\t\t\t\tbreak;\n\n\t\t\tcase MESSAGE_TYPE.UNSUBSCRIBE:\n\t\t\t\tfirst |= 0x02; // Qos = 1;\n\t\t\t\tfor ( var i = 0; i < this.topics.length; i++) {\n\t\t\t\t\ttopicStrLength[i] = UTF8Length(this.topics[i]);\n\t\t\t\t\tremLength += topicStrLength[i] + 2;\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase MESSAGE_TYPE.PUBREL:\n\t\t\t\tfirst |= 0x02; // Qos = 1;\n\t\t\t\tbreak;\n\n\t\t\tcase MESSAGE_TYPE.PUBLISH:\n\t\t\t\tif (this.payloadMessage.duplicate) first |= 0x08;\n\t\t\t\tfirst  = first |= (this.payloadMessage.qos << 1);\n\t\t\t\tif (this.payloadMessage.retained) first |= 0x01;\n\t\t\t\tdestinationNameLength = UTF8Length(this.payloadMessage.destinationName);\n\t\t\t\tremLength += destinationNameLength + 2;\n\t\t\t\tvar payloadBytes = this.payloadMessage.payloadBytes;\n\t\t\t\tremLength += payloadBytes.byteLength;\n\t\t\t\tif (payloadBytes instanceof ArrayBuffer)\n\t\t\t\t\tpayloadBytes = new Uint8Array(payloadBytes);\n\t\t\t\telse if (!(payloadBytes instanceof Uint8Array))\n\t\t\t\t\tpayloadBytes = new Uint8Array(payloadBytes.buffer);\n\t\t\t\tbreak;\n\n\t\t\tcase MESSAGE_TYPE.DISCONNECT:\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\t;\n\t\t}\n\n\t\t// Now we can allocate a buffer for the message\n\n\t\tvar mbi = encodeMBI(remLength);  // Convert the length to MQTT MBI format\n\t\tvar pos = mbi.length + 1;        // Offset of start of variable header\n\t\tvar buffer = new ArrayBuffer(remLength + pos);\n\t\tvar byteStream = new Uint8Array(buffer);    // view it as a sequence of bytes\n\n\t\t//Write the fixed header into the buffer\n\t\tbyteStream[0] = first;\n\t\tbyteStream.set(mbi,1);\n\n\t\t// If this is a PUBLISH then the variable header starts with a topic\n\t\tif (this.type == MESSAGE_TYPE.PUBLISH)\n\t\t\tpos = writeString(this.payloadMessage.destinationName, destinationNameLength, byteStream, pos);\n\t\t// If this is a CONNECT then the variable header contains the protocol name/version, flags and keepalive time\n\n\t\telse if (this.type == MESSAGE_TYPE.CONNECT) {\n\t\t\tswitch (this.mqttVersion) {\n\t\t\t\tcase 3:\n\t\t\t\t\tbyteStream.set(MqttProtoIdentifierv3, pos);\n\t\t\t\t\tpos += MqttProtoIdentifierv3.length;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 4:\n\t\t\t\t\tbyteStream.set(MqttProtoIdentifierv4, pos);\n\t\t\t\t\tpos += MqttProtoIdentifierv4.length;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tvar connectFlags = 0;\n\t\t\tif (this.cleanSession)\n\t\t\t\tconnectFlags = 0x02;\n\t\t\tif (this.willMessage != undefined ) {\n\t\t\t\tconnectFlags |= 0x04;\n\t\t\t\tconnectFlags |= (this.willMessage.qos<<3);\n\t\t\t\tif (this.willMessage.retained) {\n\t\t\t\t\tconnectFlags |= 0x20;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this.userName != undefined)\n\t\t\t\tconnectFlags |= 0x80;\n\t\t\tif (this.password != undefined)\n\t\t\t\tconnectFlags |= 0x40;\n\t\t\tbyteStream[pos++] = connectFlags;\n\t\t\tpos = writeUint16 (this.keepAliveInterval, byteStream, pos);\n\t\t}\n\n\t\t// Output the messageIdentifier - if there is one\n\t\tif (this.messageIdentifier != undefined)\n\t\t\tpos = writeUint16 (this.messageIdentifier, byteStream, pos);\n\n\t\tswitch(this.type) {\n\t\t\tcase MESSAGE_TYPE.CONNECT:\n\t\t\t\tpos = writeString(this.clientId, UTF8Length(this.clientId), byteStream, pos);\n\t\t\t\tif (this.willMessage != undefined) {\n\t\t\t\t\tpos = writeString(this.willMessage.destinationName, UTF8Length(this.willMessage.destinationName), byteStream, pos);\n\t\t\t\t\tpos = writeUint16(willMessagePayloadBytes.byteLength, byteStream, pos);\n\t\t\t\t\tbyteStream.set(willMessagePayloadBytes, pos);\n\t\t\t\t\tpos += willMessagePayloadBytes.byteLength;\n\n\t\t\t\t}\n\t\t\tif (this.userName != undefined)\n\t\t\t\tpos = writeString(this.userName, UTF8Length(this.userName), byteStream, pos);\n\t\t\tif (this.password != undefined)\n\t\t\t\tpos = writeString(this.password, UTF8Length(this.password), byteStream, pos);\n\t\t\tbreak;\n\n\t\t\tcase MESSAGE_TYPE.PUBLISH:\n\t\t\t\t// PUBLISH has a text or binary payload, if text do not add a 2 byte length field, just the UTF characters.\n\t\t\t\tbyteStream.set(payloadBytes, pos);\n\n\t\t\t\tbreak;\n\n//    \t    case MESSAGE_TYPE.PUBREC:\n//    \t    case MESSAGE_TYPE.PUBREL:\n//    \t    case MESSAGE_TYPE.PUBCOMP:\n//    \t    \tbreak;\n\n\t\t\tcase MESSAGE_TYPE.SUBSCRIBE:\n\t\t\t\t// SUBSCRIBE has a list of topic strings and request QoS\n\t\t\t\tfor (var i=0; i<this.topics.length; i++) {\n\t\t\t\t\tpos = writeString(this.topics[i], topicStrLength[i], byteStream, pos);\n\t\t\t\t\tbyteStream[pos++] = this.requestedQos[i];\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase MESSAGE_TYPE.UNSUBSCRIBE:\n\t\t\t\t// UNSUBSCRIBE has a list of topic strings\n\t\t\t\tfor (var i=0; i<this.topics.length; i++)\n\t\t\t\t\tpos = writeString(this.topics[i], topicStrLength[i], byteStream, pos);\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\t// Do nothing.\n\t\t}\n\n\t\treturn buffer;\n\t}\n\n\tfunction decodeMessage(input,pos) {\n\t    var startingPos = pos;\n\t\tvar first = input[pos];\n\t\tvar type = first >> 4;\n\t\tvar messageInfo = first &= 0x0f;\n\t\tpos += 1;\n\n\n\t\t// Decode the remaining length (MBI format)\n\n\t\tvar digit;\n\t\tvar remLength = 0;\n\t\tvar multiplier = 1;\n\t\tdo {\n\t\t\tif (pos == input.length) {\n\t\t\t    return [null,startingPos];\n\t\t\t}\n\t\t\tdigit = input[pos++];\n\t\t\tremLength += ((digit & 0x7F) * multiplier);\n\t\t\tmultiplier *= 128;\n\t\t} while ((digit & 0x80) != 0);\n\n\t\tvar endPos = pos+remLength;\n\t\tif (endPos > input.length) {\n\t\t    return [null,startingPos];\n\t\t}\n\n\t\tvar wireMessage = new WireMessage(type);\n\t\tswitch(type) {\n\t\t\tcase MESSAGE_TYPE.CONNACK:\n\t\t\t\tvar connectAcknowledgeFlags = input[pos++];\n\t\t\t\tif (connectAcknowledgeFlags & 0x01)\n\t\t\t\t\twireMessage.sessionPresent = true;\n\t\t\t\twireMessage.returnCode = input[pos++];\n\t\t\t\tbreak;\n\n\t\t\tcase MESSAGE_TYPE.PUBLISH:\n\t\t\t\tvar qos = (messageInfo >> 1) & 0x03;\n\n\t\t\t\tvar len = readUint16(input, pos);\n\t\t\t\tpos += 2;\n\t\t\t\tvar topicName = parseUTF8(input, pos, len);\n\t\t\t\tpos += len;\n\t\t\t\t// If QoS 1 or 2 there will be a messageIdentifier\n\t\t\t\tif (qos > 0) {\n\t\t\t\t\twireMessage.messageIdentifier = readUint16(input, pos);\n\t\t\t\t\tpos += 2;\n\t\t\t\t}\n\n\t\t\t\tvar message = new Message(input.subarray(pos, endPos));\n\t\t\t\tif ((messageInfo & 0x01) == 0x01)\n\t\t\t\t\tmessage.retained = true;\n\t\t\t\tif ((messageInfo & 0x08) == 0x08)\n\t\t\t\t\tmessage.duplicate =  true;\n\t\t\t\tmessage.qos = qos;\n\t\t\t\tmessage.destinationName = topicName;\n\t\t\t\twireMessage.payloadMessage = message;\n\t\t\t\tbreak;\n\n\t\t\tcase  MESSAGE_TYPE.PUBACK:\n\t\t\tcase  MESSAGE_TYPE.PUBREC:\n\t\t\tcase  MESSAGE_TYPE.PUBREL:\n\t\t\tcase  MESSAGE_TYPE.PUBCOMP:\n\t\t\tcase  MESSAGE_TYPE.UNSUBACK:\n\t\t\t\twireMessage.messageIdentifier = readUint16(input, pos);\n\t\t\t\tbreak;\n\n\t\t\tcase  MESSAGE_TYPE.SUBACK:\n\t\t\t\twireMessage.messageIdentifier = readUint16(input, pos);\n\t\t\t\tpos += 2;\n\t\t\t\twireMessage.returnCode = input.subarray(pos, endPos);\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\t;\n\t\t}\n\n\t\treturn [wireMessage,endPos];\n\t}\n\n\tfunction writeUint16(input, buffer, offset) {\n\t\tbuffer[offset++] = input >> 8;      //MSB\n\t\tbuffer[offset++] = input % 256;     //LSB\n\t\treturn offset;\n\t}\n\n\tfunction writeString(input, utf8Length, buffer, offset) {\n\t\toffset = writeUint16(utf8Length, buffer, offset);\n\t\tstringToUTF8(input, buffer, offset);\n\t\treturn offset + utf8Length;\n\t}\n\n\tfunction readUint16(buffer, offset) {\n\t\treturn 256*buffer[offset] + buffer[offset+1];\n\t}\n\n\t/**\n\t * Encodes an MQTT Multi-Byte Integer\n\t * @private\n\t */\n\tfunction encodeMBI(number) {\n\t\tvar output = new Array(1);\n\t\tvar numBytes = 0;\n\n\t\tdo {\n\t\t\tvar digit = number % 128;\n\t\t\tnumber = number >> 7;\n\t\t\tif (number > 0) {\n\t\t\t\tdigit |= 0x80;\n\t\t\t}\n\t\t\toutput[numBytes++] = digit;\n\t\t} while ( (number > 0) && (numBytes<4) );\n\n\t\treturn output;\n\t}\n\n\t/**\n\t * Takes a String and calculates its length in bytes when encoded in UTF8.\n\t * @private\n\t */\n\tfunction UTF8Length(input) {\n\t\tvar output = 0;\n\t\tfor (var i = 0; i<input.length; i++)\n\t\t{\n\t\t\tvar charCode = input.charCodeAt(i);\n\t\t\t\tif (charCode > 0x7FF)\n\t\t\t\t   {\n\t\t\t\t\t  // Surrogate pair means its a 4 byte character\n\t\t\t\t\t  if (0xD800 <= charCode && charCode <= 0xDBFF)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t  i++;\n\t\t\t\t\t\t  output++;\n\t\t\t\t\t\t}\n\t\t\t\t   output +=3;\n\t\t\t\t   }\n\t\t\telse if (charCode > 0x7F)\n\t\t\t\toutput +=2;\n\t\t\telse\n\t\t\t\toutput++;\n\t\t}\n\t\treturn output;\n\t}\n\n\t/**\n\t * Takes a String and writes it into an array as UTF8 encoded bytes.\n\t * @private\n\t */\n\tfunction stringToUTF8(input, output, start) {\n\t\tvar pos = start;\n\t\tfor (var i = 0; i<input.length; i++) {\n\t\t\tvar charCode = input.charCodeAt(i);\n\n\t\t\t// Check for a surrogate pair.\n\t\t\tif (0xD800 <= charCode && charCode <= 0xDBFF) {\n\t\t\t\tvar lowCharCode = input.charCodeAt(++i);\n\t\t\t\tif (isNaN(lowCharCode)) {\n\t\t\t\t\tthrow new Error(format(ERROR.MALFORMED_UNICODE, [charCode, lowCharCode]));\n\t\t\t\t}\n\t\t\t\tcharCode = ((charCode - 0xD800)<<10) + (lowCharCode - 0xDC00) + 0x10000;\n\n\t\t\t}\n\n\t\t\tif (charCode <= 0x7F) {\n\t\t\t\toutput[pos++] = charCode;\n\t\t\t} else if (charCode <= 0x7FF) {\n\t\t\t\toutput[pos++] = charCode>>6  & 0x1F | 0xC0;\n\t\t\t\toutput[pos++] = charCode     & 0x3F | 0x80;\n\t\t\t} else if (charCode <= 0xFFFF) {\n\t\t\t\toutput[pos++] = charCode>>12 & 0x0F | 0xE0;\n\t\t\t\toutput[pos++] = charCode>>6  & 0x3F | 0x80;\n\t\t\t\toutput[pos++] = charCode     & 0x3F | 0x80;\n\t\t\t} else {\n\t\t\t\toutput[pos++] = charCode>>18 & 0x07 | 0xF0;\n\t\t\t\toutput[pos++] = charCode>>12 & 0x3F | 0x80;\n\t\t\t\toutput[pos++] = charCode>>6  & 0x3F | 0x80;\n\t\t\t\toutput[pos++] = charCode     & 0x3F | 0x80;\n\t\t\t};\n\t\t}\n\t\treturn output;\n\t}\n\n\tfunction parseUTF8(input, offset, length) {\n\t\tvar output = \"\";\n\t\tvar utf16;\n\t\tvar pos = offset;\n\n\t\twhile (pos < offset+length)\n\t\t{\n\t\t\tvar byte1 = input[pos++];\n\t\t\tif (byte1 < 128)\n\t\t\t\tutf16 = byte1;\n\t\t\telse\n\t\t\t{\n\t\t\t\tvar byte2 = input[pos++]-128;\n\t\t\t\tif (byte2 < 0)\n\t\t\t\t\tthrow new Error(format(ERROR.MALFORMED_UTF, [byte1.toString(16), byte2.toString(16),\"\"]));\n\t\t\t\tif (byte1 < 0xE0)             // 2 byte character\n\t\t\t\t\tutf16 = 64*(byte1-0xC0) + byte2;\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tvar byte3 = input[pos++]-128;\n\t\t\t\t\tif (byte3 < 0)\n\t\t\t\t\t\tthrow new Error(format(ERROR.MALFORMED_UTF, [byte1.toString(16), byte2.toString(16), byte3.toString(16)]));\n\t\t\t\t\tif (byte1 < 0xF0)        // 3 byte character\n\t\t\t\t\t\tutf16 = 4096*(byte1-0xE0) + 64*byte2 + byte3;\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t   var byte4 = input[pos++]-128;\n\t\t\t\t\t\t\t\t   if (byte4 < 0)\n\t\t\t\t\t\tthrow new Error(format(ERROR.MALFORMED_UTF, [byte1.toString(16), byte2.toString(16), byte3.toString(16), byte4.toString(16)]));\n\t\t\t\t\t\t\t\t   if (byte1 < 0xF8)        // 4 byte character\n\t\t\t\t\t\t\t\t\t\t   utf16 = 262144*(byte1-0xF0) + 4096*byte2 + 64*byte3 + byte4;\n\t\t\t\t\t   else                     // longer encodings are not supported\n\t\t\t\t\t\tthrow new Error(format(ERROR.MALFORMED_UTF, [byte1.toString(16), byte2.toString(16), byte3.toString(16), byte4.toString(16)]));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t\tif (utf16 > 0xFFFF)   // 4 byte character - express as a surrogate pair\n\t\t\t\t  {\n\t\t\t\t\t utf16 -= 0x10000;\n\t\t\t\t\t output += String.fromCharCode(0xD800 + (utf16 >> 10)); // lead character\n\t\t\t\t\t utf16 = 0xDC00 + (utf16 & 0x3FF);  // trail character\n\t\t\t\t  }\n\t\t\toutput += String.fromCharCode(utf16);\n\t\t}\n\t\treturn output;\n\t}\n\n\t/**\n\t * Repeat keepalive requests, monitor responses.\n\t * @ignore\n\t */\n\tvar Pinger = function(client, window, keepAliveInterval) {\n\t\tthis._client = client;\n\t\tthis._window = window;\n\t\tthis._keepAliveInterval = keepAliveInterval*1000;\n\t\tthis.isReset = false;\n\n\t\tvar pingReq = new WireMessage(MESSAGE_TYPE.PINGREQ).encode();\n\n\t\tvar doTimeout = function (pinger) {\n\t\t\treturn function () {\n\t\t\t\treturn doPing.apply(pinger);\n\t\t\t};\n\t\t};\n\n\t\t/** @ignore */\n\t\tvar doPing = function() {\n\t\t\tif (!this.isReset) {\n\t\t\t\tthis._client._trace(\"Pinger.doPing\", \"Timed out\");\n\t\t\t\tthis._client._disconnected( ERROR.PING_TIMEOUT.code , format(ERROR.PING_TIMEOUT));\n\t\t\t} else {\n\t\t\t\tthis.isReset = false;\n\t\t\t\tthis._client._trace(\"Pinger.doPing\", \"send PINGREQ\");\n\t\t\t\tthis._client.socket.send(pingReq);\n\t\t\t\tthis.timeout = this._window.setTimeout(doTimeout(this), this._keepAliveInterval);\n\t\t\t}\n\t\t}\n\n\t\tthis.reset = function() {\n\t\t\tthis.isReset = true;\n\t\t\tthis._window.clearTimeout(this.timeout);\n\t\t\tif (this._keepAliveInterval > 0)\n\t\t\t\tthis.timeout = setTimeout(doTimeout(this), this._keepAliveInterval);\n\t\t}\n\n\t\tthis.cancel = function() {\n\t\t\tthis._window.clearTimeout(this.timeout);\n\t\t}\n\t };\n\n\t/**\n\t * Monitor request completion.\n\t * @ignore\n\t */\n\tvar Timeout = function(client, window, timeoutSeconds, action, args) {\n\t\tthis._window = window;\n\t\tif (!timeoutSeconds)\n\t\t\ttimeoutSeconds = 30;\n\n\t\tvar doTimeout = function (action, client, args) {\n\t\t\treturn function () {\n\t\t\t\treturn action.apply(client, args);\n\t\t\t};\n\t\t};\n\t\tthis.timeout = setTimeout(doTimeout(action, client, args), timeoutSeconds * 1000);\n\n\t\tthis.cancel = function() {\n\t\t\tthis._window.clearTimeout(this.timeout);\n\t\t}\n\t};\n\n\t/*\n\t * Internal implementation of the Websockets MQTT V3.1 client.\n\t *\n\t * @name Paho.MQTT.ClientImpl @constructor\n\t * @param {String} host the DNS nameof the webSocket host.\n\t * @param {Number} port the port number for that host.\n\t * @param {String} clientId the MQ client identifier.\n\t */\n\tvar ClientImpl = function (uri, host, port, path, clientId) {\n\t\t// Check dependencies are satisfied in this browser.\n\t\tif (!(\"WebSocket\" in global && global[\"WebSocket\"] !== null)) {\n\t\t\tthrow new Error(format(ERROR.UNSUPPORTED, [\"WebSocket\"]));\n\t\t}\n\t\tif (!(\"localStorage\" in global && global[\"localStorage\"] !== null)) {\n\t\t\tthrow new Error(format(ERROR.UNSUPPORTED, [\"localStorage\"]));\n\t\t}\n\t\tif (!(\"ArrayBuffer\" in global && global[\"ArrayBuffer\"] !== null)) {\n\t\t\tthrow new Error(format(ERROR.UNSUPPORTED, [\"ArrayBuffer\"]));\n\t\t}\n\t\tthis._trace(\"Paho.MQTT.Client\", uri, host, port, path, clientId);\n\n\t\tthis.host = host;\n\t\tthis.port = port;\n\t\tthis.path = path;\n\t\tthis.uri = uri;\n\t\tthis.clientId = clientId;\n\n\t\t// Local storagekeys are qualified with the following string.\n\t\t// The conditional inclusion of path in the key is for backward\n\t\t// compatibility to when the path was not configurable and assumed to\n\t\t// be /mqtt\n\t\tthis._localKey=host+\":\"+port+(path!=\"/mqtt\"?\":\"+path:\"\")+\":\"+clientId+\":\";\n\n\t\t// Create private instance-only message queue\n\t\t// Internal queue of messages to be sent, in sending order.\n\t\tthis._msg_queue = [];\n\n\t\t// Messages we have sent and are expecting a response for, indexed by their respective message ids.\n\t\tthis._sentMessages = {};\n\n\t\t// Messages we have received and acknowleged and are expecting a confirm message for\n\t\t// indexed by their respective message ids.\n\t\tthis._receivedMessages = {};\n\n\t\t// Internal list of callbacks to be executed when messages\n\t\t// have been successfully sent over web socket, e.g. disconnect\n\t\t// when it doesn't have to wait for ACK, just message is dispatched.\n\t\tthis._notify_msg_sent = {};\n\n\t\t// Unique identifier for SEND messages, incrementing\n\t\t// counter as messages are sent.\n\t\tthis._message_identifier = 1;\n\n\t\t// Used to determine the transmission sequence of stored sent messages.\n\t\tthis._sequence = 0;\n\n\n\t\t// Load the local state, if any, from the saved version, only restore state relevant to this client.\n\t\tfor (var key in localStorage)\n\t\t\tif (   key.indexOf(\"Sent:\"+this._localKey) == 0\n\t\t\t\t|| key.indexOf(\"Received:\"+this._localKey) == 0)\n\t\t\tthis.restore(key);\n\t};\n\n\t// Messaging Client public instance members.\n\tClientImpl.prototype.host;\n\tClientImpl.prototype.port;\n\tClientImpl.prototype.path;\n\tClientImpl.prototype.uri;\n\tClientImpl.prototype.clientId;\n\n\t// Messaging Client private instance members.\n\tClientImpl.prototype.socket;\n\t/* true once we have received an acknowledgement to a CONNECT packet. */\n\tClientImpl.prototype.connected = false;\n\t/* The largest message identifier allowed, may not be larger than 2**16 but\n\t * if set smaller reduces the maximum number of outbound messages allowed.\n\t */\n\tClientImpl.prototype.maxMessageIdentifier = 65536;\n\tClientImpl.prototype.connectOptions;\n\tClientImpl.prototype.hostIndex;\n\tClientImpl.prototype.onConnectionLost;\n\tClientImpl.prototype.onMessageDelivered;\n\tClientImpl.prototype.onMessageArrived;\n\tClientImpl.prototype.traceFunction;\n\tClientImpl.prototype._msg_queue = null;\n\tClientImpl.prototype._connectTimeout;\n\t/* The sendPinger monitors how long we allow before we send data to prove to the server that we are alive. */\n\tClientImpl.prototype.sendPinger = null;\n\t/* The receivePinger monitors how long we allow before we require evidence that the server is alive. */\n\tClientImpl.prototype.receivePinger = null;\n\n\tClientImpl.prototype.receiveBuffer = null;\n\n\tClientImpl.prototype._traceBuffer = null;\n\tClientImpl.prototype._MAX_TRACE_ENTRIES = 100;\n\n\tClientImpl.prototype.connect = function (connectOptions) {\n\t\tvar connectOptionsMasked = this._traceMask(connectOptions, \"password\");\n\t\tthis._trace(\"Client.connect\", connectOptionsMasked, this.socket, this.connected);\n\n\t\tif (this.connected)\n\t\t\tthrow new Error(format(ERROR.INVALID_STATE, [\"already connected\"]));\n\t\tif (this.socket)\n\t\t\tthrow new Error(format(ERROR.INVALID_STATE, [\"already connected\"]));\n\n\t\tthis.connectOptions = connectOptions;\n\n\t\tif (connectOptions.uris) {\n\t\t\tthis.hostIndex = 0;\n\t\t\tthis._doConnect(connectOptions.uris[0]);\n\t\t} else {\n\t\t\tthis._doConnect(this.uri);\n\t\t}\n\n\t};\n\n\tClientImpl.prototype.subscribe = function (filter, subscribeOptions) {\n\t\tthis._trace(\"Client.subscribe\", filter, subscribeOptions);\n\n\t\tif (!this.connected)\n\t\t\tthrow new Error(format(ERROR.INVALID_STATE, [\"not connected\"]));\n\n\t\tvar wireMessage = new WireMessage(MESSAGE_TYPE.SUBSCRIBE);\n\t\twireMessage.topics=[filter];\n\t\tif (subscribeOptions.qos != undefined)\n\t\t\twireMessage.requestedQos = [subscribeOptions.qos];\n\t\telse\n\t\t\twireMessage.requestedQos = [0];\n\n\t\tif (subscribeOptions.onSuccess) {\n\t\t\twireMessage.onSuccess = function(grantedQos) {subscribeOptions.onSuccess({invocationContext:subscribeOptions.invocationContext,grantedQos:grantedQos});};\n\t\t}\n\n\t\tif (subscribeOptions.onFailure) {\n\t\t\twireMessage.onFailure = function(errorCode) {subscribeOptions.onFailure({invocationContext:subscribeOptions.invocationContext,errorCode:errorCode});};\n\t\t}\n\n\t\tif (subscribeOptions.timeout) {\n\t\t\twireMessage.timeOut = new Timeout(this, window, subscribeOptions.timeout, subscribeOptions.onFailure\n\t\t\t\t\t, [{invocationContext:subscribeOptions.invocationContext,\n\t\t\t\t\t\terrorCode:ERROR.SUBSCRIBE_TIMEOUT.code,\n\t\t\t\t\t\terrorMessage:format(ERROR.SUBSCRIBE_TIMEOUT)}]);\n\t\t}\n\n\t\t// All subscriptions return a SUBACK.\n\t\tthis._requires_ack(wireMessage);\n\t\tthis._schedule_message(wireMessage);\n\t};\n\n\t/** @ignore */\n\tClientImpl.prototype.unsubscribe = function(filter, unsubscribeOptions) {\n\t\tthis._trace(\"Client.unsubscribe\", filter, unsubscribeOptions);\n\n\t\tif (!this.connected)\n\t\t   throw new Error(format(ERROR.INVALID_STATE, [\"not connected\"]));\n\n\t\tvar wireMessage = new WireMessage(MESSAGE_TYPE.UNSUBSCRIBE);\n\t\twireMessage.topics = [filter];\n\n\t\tif (unsubscribeOptions.onSuccess) {\n\t\t\twireMessage.callback = function() {unsubscribeOptions.onSuccess({invocationContext:unsubscribeOptions.invocationContext});};\n\t\t}\n\t\tif (unsubscribeOptions.timeout) {\n\t\t\twireMessage.timeOut = new Timeout(this, window, unsubscribeOptions.timeout, unsubscribeOptions.onFailure\n\t\t\t\t\t, [{invocationContext:unsubscribeOptions.invocationContext,\n\t\t\t\t\t\terrorCode:ERROR.UNSUBSCRIBE_TIMEOUT.code,\n\t\t\t\t\t\terrorMessage:format(ERROR.UNSUBSCRIBE_TIMEOUT)}]);\n\t\t}\n\n\t\t// All unsubscribes return a SUBACK.\n\t\tthis._requires_ack(wireMessage);\n\t\tthis._schedule_message(wireMessage);\n\t};\n\n\tClientImpl.prototype.send = function (message) {\n\t\tthis._trace(\"Client.send\", message);\n\n\t\tif (!this.connected)\n\t\t   throw new Error(format(ERROR.INVALID_STATE, [\"not connected\"]));\n\n\t\twireMessage = new WireMessage(MESSAGE_TYPE.PUBLISH);\n\t\twireMessage.payloadMessage = message;\n\n\t\tif (message.qos > 0)\n\t\t\tthis._requires_ack(wireMessage);\n\t\telse if (this.onMessageDelivered)\n\t\t\tthis._notify_msg_sent[wireMessage] = this.onMessageDelivered(wireMessage.payloadMessage);\n\t\tthis._schedule_message(wireMessage);\n\t};\n\n\tClientImpl.prototype.disconnect = function () {\n\t\tthis._trace(\"Client.disconnect\");\n\n\t\tif (!this.socket)\n\t\t\tthrow new Error(format(ERROR.INVALID_STATE, [\"not connecting or connected\"]));\n\n\t\twireMessage = new WireMessage(MESSAGE_TYPE.DISCONNECT);\n\n\t\t// Run the disconnected call back as soon as the message has been sent,\n\t\t// in case of a failure later on in the disconnect processing.\n\t\t// as a consequence, the _disconected call back may be run several times.\n\t\tthis._notify_msg_sent[wireMessage] = scope(this._disconnected, this);\n\n\t\tthis._schedule_message(wireMessage);\n\t};\n\n\tClientImpl.prototype.getTraceLog = function () {\n\t\tif ( this._traceBuffer !== null ) {\n\t\t\tthis._trace(\"Client.getTraceLog\", new Date());\n\t\t\tthis._trace(\"Client.getTraceLog in flight messages\", this._sentMessages.length);\n\t\t\tfor (var key in this._sentMessages)\n\t\t\t\tthis._trace(\"_sentMessages \",key, this._sentMessages[key]);\n\t\t\tfor (var key in this._receivedMessages)\n\t\t\t\tthis._trace(\"_receivedMessages \",key, this._receivedMessages[key]);\n\n\t\t\treturn this._traceBuffer;\n\t\t}\n\t};\n\n\tClientImpl.prototype.startTrace = function () {\n\t\tif ( this._traceBuffer === null ) {\n\t\t\tthis._traceBuffer = [];\n\t\t}\n\t\tthis._trace(\"Client.startTrace\", new Date(), version);\n\t};\n\n\tClientImpl.prototype.stopTrace = function () {\n\t\tdelete this._traceBuffer;\n\t};\n\n\tClientImpl.prototype._doConnect = function (wsurl) {\n\t\t// When the socket is open, this client will send the CONNECT WireMessage using the saved parameters.\n\t\tif (this.connectOptions.useSSL) {\n\t\t    var uriParts = wsurl.split(\":\");\n\t\t    uriParts[0] = \"wss\";\n\t\t    wsurl = uriParts.join(\":\");\n\t\t}\n\t\tthis.connected = false;\n\t\tif (this.connectOptions.mqttVersion < 4) {\n\t\t\tthis.socket = new WebSocket(wsurl, [\"mqttv3.1\"]);\n\t\t} else {\n\t\t\tthis.socket = new WebSocket(wsurl, [\"mqtt\"]);\n\t\t}\n\t\tthis.socket.binaryType = 'arraybuffer';\n\n\t\tthis.socket.onopen = scope(this._on_socket_open, this);\n\t\tthis.socket.onmessage = scope(this._on_socket_message, this);\n\t\tthis.socket.onerror = scope(this._on_socket_error, this);\n\t\tthis.socket.onclose = scope(this._on_socket_close, this);\n\n\t\tthis.sendPinger = new Pinger(this, window, this.connectOptions.keepAliveInterval);\n\t\tthis.receivePinger = new Pinger(this, window, this.connectOptions.keepAliveInterval);\n\n\t\tthis._connectTimeout = new Timeout(this, window, this.connectOptions.timeout, this._disconnected,  [ERROR.CONNECT_TIMEOUT.code, format(ERROR.CONNECT_TIMEOUT)]);\n\t};\n\n\n\t// Schedule a new message to be sent over the WebSockets\n\t// connection. CONNECT messages cause WebSocket connection\n\t// to be started. All other messages are queued internally\n\t// until this has happened. When WS connection starts, process\n\t// all outstanding messages.\n\tClientImpl.prototype._schedule_message = function (message) {\n\t\tthis._msg_queue.push(message);\n\t\t// Process outstanding messages in the queue if we have an  open socket, and have received CONNACK.\n\t\tif (this.connected) {\n\t\t\tthis._process_queue();\n\t\t}\n\t};\n\n\tClientImpl.prototype.store = function(prefix, wireMessage) {\n\t\tvar storedMessage = {type:wireMessage.type, messageIdentifier:wireMessage.messageIdentifier, version:1};\n\n\t\tswitch(wireMessage.type) {\n\t\t  case MESSAGE_TYPE.PUBLISH:\n\t\t\t  if(wireMessage.pubRecReceived)\n\t\t\t\t  storedMessage.pubRecReceived = true;\n\n\t\t\t  // Convert the payload to a hex string.\n\t\t\t  storedMessage.payloadMessage = {};\n\t\t\t  var hex = \"\";\n\t\t\t  var messageBytes = wireMessage.payloadMessage.payloadBytes;\n\t\t\t  for (var i=0; i<messageBytes.length; i++) {\n\t\t\t\tif (messageBytes[i] <= 0xF)\n\t\t\t\t  hex = hex+\"0\"+messageBytes[i].toString(16);\n\t\t\t\telse\n\t\t\t\t  hex = hex+messageBytes[i].toString(16);\n\t\t\t  }\n\t\t\t  storedMessage.payloadMessage.payloadHex = hex;\n\n\t\t\t  storedMessage.payloadMessage.qos = wireMessage.payloadMessage.qos;\n\t\t\t  storedMessage.payloadMessage.destinationName = wireMessage.payloadMessage.destinationName;\n\t\t\t  if (wireMessage.payloadMessage.duplicate)\n\t\t\t\t  storedMessage.payloadMessage.duplicate = true;\n\t\t\t  if (wireMessage.payloadMessage.retained)\n\t\t\t\t  storedMessage.payloadMessage.retained = true;\n\n\t\t\t  // Add a sequence number to sent messages.\n\t\t\t  if ( prefix.indexOf(\"Sent:\") == 0 ) {\n\t\t\t\t  if ( wireMessage.sequence === undefined )\n\t\t\t\t\t  wireMessage.sequence = ++this._sequence;\n\t\t\t\t  storedMessage.sequence = wireMessage.sequence;\n\t\t\t  }\n\t\t\t  break;\n\n\t\t\tdefault:\n\t\t\t\tthrow Error(format(ERROR.INVALID_STORED_DATA, [key, storedMessage]));\n\t\t}\n\t\tlocalStorage.setItem(prefix+this._localKey+wireMessage.messageIdentifier, JSON.stringify(storedMessage));\n\t};\n\n\tClientImpl.prototype.restore = function(key) {\n\t\tvar value = localStorage.getItem(key);\n\t\tvar storedMessage = JSON.parse(value);\n\n\t\tvar wireMessage = new WireMessage(storedMessage.type, storedMessage);\n\n\t\tswitch(storedMessage.type) {\n\t\t  case MESSAGE_TYPE.PUBLISH:\n\t\t\t  // Replace the payload message with a Message object.\n\t\t\t  var hex = storedMessage.payloadMessage.payloadHex;\n\t\t\t  var buffer = new ArrayBuffer((hex.length)/2);\n\t\t\t  var byteStream = new Uint8Array(buffer);\n\t\t\t  var i = 0;\n\t\t\t  while (hex.length >= 2) {\n\t\t\t\t  var x = parseInt(hex.substring(0, 2), 16);\n\t\t\t\t  hex = hex.substring(2, hex.length);\n\t\t\t\t  byteStream[i++] = x;\n\t\t\t  }\n\t\t\t  var payloadMessage = new Message(byteStream);\n\n\t\t\t  payloadMessage.qos = storedMessage.payloadMessage.qos;\n\t\t\t  payloadMessage.destinationName = storedMessage.payloadMessage.destinationName;\n\t\t\t  if (storedMessage.payloadMessage.duplicate)\n\t\t\t\t  payloadMessage.duplicate = true;\n\t\t\t  if (storedMessage.payloadMessage.retained)\n\t\t\t\t  payloadMessage.retained = true;\n\t\t\t  wireMessage.payloadMessage = payloadMessage;\n\n\t\t\t  break;\n\n\t\t\tdefault:\n\t\t\t  throw Error(format(ERROR.INVALID_STORED_DATA, [key, value]));\n\t\t}\n\n\t\tif (key.indexOf(\"Sent:\"+this._localKey) == 0) {\n\t\t\twireMessage.payloadMessage.duplicate = true;\n\t\t\tthis._sentMessages[wireMessage.messageIdentifier] = wireMessage;\n\t\t} else if (key.indexOf(\"Received:\"+this._localKey) == 0) {\n\t\t\tthis._receivedMessages[wireMessage.messageIdentifier] = wireMessage;\n\t\t}\n\t};\n\n\tClientImpl.prototype._process_queue = function () {\n\t\tvar message = null;\n\t\t// Process messages in order they were added\n\t\tvar fifo = this._msg_queue.reverse();\n\n\t\t// Send all queued messages down socket connection\n\t\twhile ((message = fifo.pop())) {\n\t\t\tthis._socket_send(message);\n\t\t\t// Notify listeners that message was successfully sent\n\t\t\tif (this._notify_msg_sent[message]) {\n\t\t\t\tthis._notify_msg_sent[message]();\n\t\t\t\tdelete this._notify_msg_sent[message];\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * Expect an ACK response for this message. Add message to the set of in progress\n\t * messages and set an unused identifier in this message.\n\t * @ignore\n\t */\n\tClientImpl.prototype._requires_ack = function (wireMessage) {\n\t\tvar messageCount = Object.keys(this._sentMessages).length;\n\t\tif (messageCount > this.maxMessageIdentifier)\n\t\t\tthrow Error (\"Too many messages:\"+messageCount);\n\n\t\twhile(this._sentMessages[this._message_identifier] !== undefined) {\n\t\t\tthis._message_identifier++;\n\t\t}\n\t\twireMessage.messageIdentifier = this._message_identifier;\n\t\tthis._sentMessages[wireMessage.messageIdentifier] = wireMessage;\n\t\tif (wireMessage.type === MESSAGE_TYPE.PUBLISH) {\n\t\t\tthis.store(\"Sent:\", wireMessage);\n\t\t}\n\t\tif (this._message_identifier === this.maxMessageIdentifier) {\n\t\t\tthis._message_identifier = 1;\n\t\t}\n\t};\n\n\t/**\n\t * Called when the underlying websocket has been opened.\n\t * @ignore\n\t */\n\tClientImpl.prototype._on_socket_open = function () {\n\t\t// Create the CONNECT message object.\n\t\tvar wireMessage = new WireMessage(MESSAGE_TYPE.CONNECT, this.connectOptions);\n\t\twireMessage.clientId = this.clientId;\n\t\tthis._socket_send(wireMessage);\n\t};\n\n\t/**\n\t * Called when the underlying websocket has received a complete packet.\n\t * @ignore\n\t */\n\tClientImpl.prototype._on_socket_message = function (event) {\n\t\tthis._trace(\"Client._on_socket_message\", event.data);\n\t\t// Reset the receive ping timer, we now have evidence the server is alive.\n\t\tthis.receivePinger.reset();\n\t\tvar messages = this._deframeMessages(event.data);\n\t\tfor (var i = 0; i < messages.length; i+=1) {\n\t\t    this._handleMessage(messages[i]);\n\t\t}\n\t}\n\n\tClientImpl.prototype._deframeMessages = function(data) {\n\t\tvar byteArray = new Uint8Array(data);\n\t    if (this.receiveBuffer) {\n\t        var newData = new Uint8Array(this.receiveBuffer.length+byteArray.length);\n\t        newData.set(this.receiveBuffer);\n\t        newData.set(byteArray,this.receiveBuffer.length);\n\t        byteArray = newData;\n\t        delete this.receiveBuffer;\n\t    }\n\t\ttry {\n\t\t    var offset = 0;\n\t\t    var messages = [];\n\t\t    while(offset < byteArray.length) {\n\t\t        var result = decodeMessage(byteArray,offset);\n\t\t        var wireMessage = result[0];\n\t\t        offset = result[1];\n\t\t        if (wireMessage !== null) {\n\t\t            messages.push(wireMessage);\n\t\t        } else {\n\t\t            break;\n\t\t        }\n\t\t    }\n\t\t    if (offset < byteArray.length) {\n\t\t    \tthis.receiveBuffer = byteArray.subarray(offset);\n\t\t    }\n\t\t} catch (error) {\n\t\t\tthis._disconnected(ERROR.INTERNAL_ERROR.code , format(ERROR.INTERNAL_ERROR, [error.message,error.stack.toString()]));\n\t\t\treturn;\n\t\t}\n\t\treturn messages;\n\t}\n\n\tClientImpl.prototype._handleMessage = function(wireMessage) {\n\n\t\tthis._trace(\"Client._handleMessage\", wireMessage);\n\n\t\ttry {\n\t\t\tswitch(wireMessage.type) {\n\t\t\tcase MESSAGE_TYPE.CONNACK:\n\t\t\t\tthis._connectTimeout.cancel();\n\n\t\t\t\t// If we have started using clean session then clear up the local state.\n\t\t\t\tif (this.connectOptions.cleanSession) {\n\t\t\t\t\tfor (var key in this._sentMessages) {\n\t\t\t\t\t\tvar sentMessage = this._sentMessages[key];\n\t\t\t\t\t\tlocalStorage.removeItem(\"Sent:\"+this._localKey+sentMessage.messageIdentifier);\n\t\t\t\t\t}\n\t\t\t\t\tthis._sentMessages = {};\n\n\t\t\t\t\tfor (var key in this._receivedMessages) {\n\t\t\t\t\t\tvar receivedMessage = this._receivedMessages[key];\n\t\t\t\t\t\tlocalStorage.removeItem(\"Received:\"+this._localKey+receivedMessage.messageIdentifier);\n\t\t\t\t\t}\n\t\t\t\t\tthis._receivedMessages = {};\n\t\t\t\t}\n\t\t\t\t// Client connected and ready for business.\n\t\t\t\tif (wireMessage.returnCode === 0) {\n\t\t\t\t\tthis.connected = true;\n\t\t\t\t\t// Jump to the end of the list of uris and stop looking for a good host.\n\t\t\t\t\tif (this.connectOptions.uris)\n\t\t\t\t\t\tthis.hostIndex = this.connectOptions.uris.length;\n\t\t\t\t} else {\n\t\t\t\t\tthis._disconnected(ERROR.CONNACK_RETURNCODE.code , format(ERROR.CONNACK_RETURNCODE, [wireMessage.returnCode, CONNACK_RC[wireMessage.returnCode]]));\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\t// Resend messages.\n\t\t\t\tvar sequencedMessages = new Array();\n\t\t\t\tfor (var msgId in this._sentMessages) {\n\t\t\t\t\tif (this._sentMessages.hasOwnProperty(msgId))\n\t\t\t\t\t\tsequencedMessages.push(this._sentMessages[msgId]);\n\t\t\t\t}\n\n\t\t\t\t// Sort sentMessages into the original sent order.\n\t\t\t\tvar sequencedMessages = sequencedMessages.sort(function(a,b) {return a.sequence - b.sequence;} );\n\t\t\t\tfor (var i=0, len=sequencedMessages.length; i<len; i++) {\n\t\t\t\t\tvar sentMessage = sequencedMessages[i];\n\t\t\t\t\tif (sentMessage.type == MESSAGE_TYPE.PUBLISH && sentMessage.pubRecReceived) {\n\t\t\t\t\t\tvar pubRelMessage = new WireMessage(MESSAGE_TYPE.PUBREL, {messageIdentifier:sentMessage.messageIdentifier});\n\t\t\t\t\t\tthis._schedule_message(pubRelMessage);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis._schedule_message(sentMessage);\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\t// Execute the connectOptions.onSuccess callback if there is one.\n\t\t\t\tif (this.connectOptions.onSuccess) {\n\t\t\t\t\tthis.connectOptions.onSuccess({invocationContext:this.connectOptions.invocationContext});\n\t\t\t\t}\n\n\t\t\t\t// Process all queued messages now that the connection is established.\n\t\t\t\tthis._process_queue();\n\t\t\t\tbreak;\n\n\t\t\tcase MESSAGE_TYPE.PUBLISH:\n\t\t\t\tthis._receivePublish(wireMessage);\n\t\t\t\tbreak;\n\n\t\t\tcase MESSAGE_TYPE.PUBACK:\n\t\t\t\tvar sentMessage = this._sentMessages[wireMessage.messageIdentifier];\n\t\t\t\t // If this is a re flow of a PUBACK after we have restarted receivedMessage will not exist.\n\t\t\t\tif (sentMessage) {\n\t\t\t\t\tdelete this._sentMessages[wireMessage.messageIdentifier];\n\t\t\t\t\tlocalStorage.removeItem(\"Sent:\"+this._localKey+wireMessage.messageIdentifier);\n\t\t\t\t\tif (this.onMessageDelivered)\n\t\t\t\t\t\tthis.onMessageDelivered(sentMessage.payloadMessage);\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase MESSAGE_TYPE.PUBREC:\n\t\t\t\tvar sentMessage = this._sentMessages[wireMessage.messageIdentifier];\n\t\t\t\t// If this is a re flow of a PUBREC after we have restarted receivedMessage will not exist.\n\t\t\t\tif (sentMessage) {\n\t\t\t\t\tsentMessage.pubRecReceived = true;\n\t\t\t\t\tvar pubRelMessage = new WireMessage(MESSAGE_TYPE.PUBREL, {messageIdentifier:wireMessage.messageIdentifier});\n\t\t\t\t\tthis.store(\"Sent:\", sentMessage);\n\t\t\t\t\tthis._schedule_message(pubRelMessage);\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase MESSAGE_TYPE.PUBREL:\n\t\t\t\tvar receivedMessage = this._receivedMessages[wireMessage.messageIdentifier];\n\t\t\t\tlocalStorage.removeItem(\"Received:\"+this._localKey+wireMessage.messageIdentifier);\n\t\t\t\t// If this is a re flow of a PUBREL after we have restarted receivedMessage will not exist.\n\t\t\t\tif (receivedMessage) {\n\t\t\t\t\tthis._receiveMessage(receivedMessage);\n\t\t\t\t\tdelete this._receivedMessages[wireMessage.messageIdentifier];\n\t\t\t\t}\n\t\t\t\t// Always flow PubComp, we may have previously flowed PubComp but the server lost it and restarted.\n\t\t\t\tvar pubCompMessage = new WireMessage(MESSAGE_TYPE.PUBCOMP, {messageIdentifier:wireMessage.messageIdentifier});\n\t\t\t\tthis._schedule_message(pubCompMessage);\n\t\t\t\tbreak;\n\n\t\t\tcase MESSAGE_TYPE.PUBCOMP:\n\t\t\t\tvar sentMessage = this._sentMessages[wireMessage.messageIdentifier];\n\t\t\t\tdelete this._sentMessages[wireMessage.messageIdentifier];\n\t\t\t\tlocalStorage.removeItem(\"Sent:\"+this._localKey+wireMessage.messageIdentifier);\n\t\t\t\tif (this.onMessageDelivered)\n\t\t\t\t\tthis.onMessageDelivered(sentMessage.payloadMessage);\n\t\t\t\tbreak;\n\n\t\t\tcase MESSAGE_TYPE.SUBACK:\n\t\t\t\tvar sentMessage = this._sentMessages[wireMessage.messageIdentifier];\n\t\t\t\tif (sentMessage) {\n\t\t\t\t\tif(sentMessage.timeOut)\n\t\t\t\t\t\tsentMessage.timeOut.cancel();\n\t\t\t\t\twireMessage.returnCode.indexOf = Array.prototype.indexOf;\n\t\t\t\t\tif (wireMessage.returnCode.indexOf(0x80) !== -1) {\n\t\t\t\t\t\tif (sentMessage.onFailure) {\n\t\t\t\t\t\t\tsentMessage.onFailure(wireMessage.returnCode);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (sentMessage.onSuccess) {\n\t\t\t\t\t\tsentMessage.onSuccess(wireMessage.returnCode);\n\t\t\t\t\t}\n\t\t\t\t\tdelete this._sentMessages[wireMessage.messageIdentifier];\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase MESSAGE_TYPE.UNSUBACK:\n\t\t\t\tvar sentMessage = this._sentMessages[wireMessage.messageIdentifier];\n\t\t\t\tif (sentMessage) {\n\t\t\t\t\tif (sentMessage.timeOut)\n\t\t\t\t\t\tsentMessage.timeOut.cancel();\n\t\t\t\t\tif (sentMessage.callback) {\n\t\t\t\t\t\tsentMessage.callback();\n\t\t\t\t\t}\n\t\t\t\t\tdelete this._sentMessages[wireMessage.messageIdentifier];\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase MESSAGE_TYPE.PINGRESP:\n\t\t\t\t/* The sendPinger or receivePinger may have sent a ping, the receivePinger has already been reset. */\n\t\t\t\tthis.sendPinger.reset();\n\t\t\t\tbreak;\n\n\t\t\tcase MESSAGE_TYPE.DISCONNECT:\n\t\t\t\t// Clients do not expect to receive disconnect packets.\n\t\t\t\tthis._disconnected(ERROR.INVALID_MQTT_MESSAGE_TYPE.code , format(ERROR.INVALID_MQTT_MESSAGE_TYPE, [wireMessage.type]));\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tthis._disconnected(ERROR.INVALID_MQTT_MESSAGE_TYPE.code , format(ERROR.INVALID_MQTT_MESSAGE_TYPE, [wireMessage.type]));\n\t\t\t};\n\t\t} catch (error) {\n\t\t\tthis._disconnected(ERROR.INTERNAL_ERROR.code , format(ERROR.INTERNAL_ERROR, [error.message,error.stack.toString()]));\n\t\t\treturn;\n\t\t}\n\t};\n\n\t/** @ignore */\n\tClientImpl.prototype._on_socket_error = function (error) {\n\t\tthis._disconnected(ERROR.SOCKET_ERROR.code , format(ERROR.SOCKET_ERROR, [error.data]));\n\t};\n\n\t/** @ignore */\n\tClientImpl.prototype._on_socket_close = function () {\n\t\tthis._disconnected(ERROR.SOCKET_CLOSE.code , format(ERROR.SOCKET_CLOSE));\n\t};\n\n\t/** @ignore */\n\tClientImpl.prototype._socket_send = function (wireMessage) {\n\n\t\tif (wireMessage.type == 1) {\n\t\t\tvar wireMessageMasked = this._traceMask(wireMessage, \"password\");\n\t\t\tthis._trace(\"Client._socket_send\", wireMessageMasked);\n\t\t}\n\t\telse this._trace(\"Client._socket_send\", wireMessage);\n\n\t\tthis.socket.send(wireMessage.encode());\n\t\t/* We have proved to the server we are alive. */\n\t\tthis.sendPinger.reset();\n\t};\n\n\t/** @ignore */\n\tClientImpl.prototype._receivePublish = function (wireMessage) {\n\t\tswitch(wireMessage.payloadMessage.qos) {\n\t\t\tcase \"undefined\":\n\t\t\tcase 0:\n\t\t\t\tthis._receiveMessage(wireMessage);\n\t\t\t\tbreak;\n\n\t\t\tcase 1:\n\t\t\t\tvar pubAckMessage = new WireMessage(MESSAGE_TYPE.PUBACK, {messageIdentifier:wireMessage.messageIdentifier});\n\t\t\t\tthis._schedule_message(pubAckMessage);\n\t\t\t\tthis._receiveMessage(wireMessage);\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\t\t\t\tthis._receivedMessages[wireMessage.messageIdentifier] = wireMessage;\n\t\t\t\tthis.store(\"Received:\", wireMessage);\n\t\t\t\tvar pubRecMessage = new WireMessage(MESSAGE_TYPE.PUBREC, {messageIdentifier:wireMessage.messageIdentifier});\n\t\t\t\tthis._schedule_message(pubRecMessage);\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tthrow Error(\"Invaild qos=\"+wireMmessage.payloadMessage.qos);\n\t\t};\n\t};\n\n\t/** @ignore */\n\tClientImpl.prototype._receiveMessage = function (wireMessage) {\n\t\tif (this.onMessageArrived) {\n\t\t\tthis.onMessageArrived(wireMessage.payloadMessage);\n\t\t}\n\t};\n\n\t/**\n\t * Client has disconnected either at its own request or because the server\n\t * or network disconnected it. Remove all non-durable state.\n\t * @param {errorCode} [number] the error number.\n\t * @param {errorText} [string] the error text.\n\t * @ignore\n\t */\n\tClientImpl.prototype._disconnected = function (errorCode, errorText) {\n\t\tthis._trace(\"Client._disconnected\", errorCode, errorText);\n\n\t\tthis.sendPinger.cancel();\n\t\tthis.receivePinger.cancel();\n\t\tif (this._connectTimeout)\n\t\t\tthis._connectTimeout.cancel();\n\t\t// Clear message buffers.\n\t\tthis._msg_queue = [];\n\t\tthis._notify_msg_sent = {};\n\n\t\tif (this.socket) {\n\t\t\t// Cancel all socket callbacks so that they cannot be driven again by this socket.\n\t\t\tthis.socket.onopen = null;\n\t\t\tthis.socket.onmessage = null;\n\t\t\tthis.socket.onerror = null;\n\t\t\tthis.socket.onclose = null;\n\t\t\tif (this.socket.readyState === 1)\n\t\t\t\tthis.socket.close();\n\t\t\tdelete this.socket;\n\t\t}\n\n\t\tif (this.connectOptions.uris && this.hostIndex < this.connectOptions.uris.length-1) {\n\t\t\t// Try the next host.\n\t\t\tthis.hostIndex++;\n\t\t\tthis._doConnect(this.connectOptions.uris[this.hostIndex]);\n\n\t\t} else {\n\n\t\t\tif (errorCode === undefined) {\n\t\t\t\terrorCode = ERROR.OK.code;\n\t\t\t\terrorText = format(ERROR.OK);\n\t\t\t}\n\n\t\t\t// Run any application callbacks last as they may attempt to reconnect and hence create a new socket.\n\t\t\tif (this.connected) {\n\t\t\t\tthis.connected = false;\n\t\t\t\t// Execute the connectionLostCallback if there is one, and we were connected.\n\t\t\t\tif (this.onConnectionLost)\n\t\t\t\t\tthis.onConnectionLost({errorCode:errorCode, errorMessage:errorText});\n\t\t\t} else {\n\t\t\t\t// Otherwise we never had a connection, so indicate that the connect has failed.\n\t\t\t\tif (this.connectOptions.mqttVersion === 4 && this.connectOptions.mqttVersionExplicit === false) {\n\t\t\t\t\tthis._trace(\"Failed to connect V4, dropping back to V3\")\n\t\t\t\t\tthis.connectOptions.mqttVersion = 3;\n\t\t\t\t\tif (this.connectOptions.uris) {\n\t\t\t\t\t\tthis.hostIndex = 0;\n\t\t\t\t\t\tthis._doConnect(this.connectOptions.uris[0]);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis._doConnect(this.uri);\n\t\t\t\t\t}\n\t\t\t\t} else if(this.connectOptions.onFailure) {\n\t\t\t\t\tthis.connectOptions.onFailure({invocationContext:this.connectOptions.invocationContext, errorCode:errorCode, errorMessage:errorText});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\t/** @ignore */\n\tClientImpl.prototype._trace = function () {\n\t\t// Pass trace message back to client's callback function\n\t\tif (this.traceFunction) {\n\t\t\tfor (var i in arguments)\n\t\t\t{\n\t\t\t\tif (typeof arguments[i] !== \"undefined\")\n\t\t\t\t\targuments[i] = JSON.stringify(arguments[i]);\n\t\t\t}\n\t\t\tvar record = Array.prototype.slice.call(arguments).join(\"\");\n\t\t\tthis.traceFunction ({severity: \"Debug\", message: record\t});\n\t\t}\n\n\t\t//buffer style trace\n\t\tif ( this._traceBuffer !== null ) {\n\t\t\tfor (var i = 0, max = arguments.length; i < max; i++) {\n\t\t\t\tif ( this._traceBuffer.length == this._MAX_TRACE_ENTRIES ) {\n\t\t\t\t\tthis._traceBuffer.shift();\n\t\t\t\t}\n\t\t\t\tif (i === 0) this._traceBuffer.push(arguments[i]);\n\t\t\t\telse if (typeof arguments[i] === \"undefined\" ) this._traceBuffer.push(arguments[i]);\n\t\t\t\telse this._traceBuffer.push(\"  \"+JSON.stringify(arguments[i]));\n\t\t   };\n\t\t};\n\t};\n\n\t/** @ignore */\n\tClientImpl.prototype._traceMask = function (traceObject, masked) {\n\t\tvar traceObjectMasked = {};\n\t\tfor (var attr in traceObject) {\n\t\t\tif (traceObject.hasOwnProperty(attr)) {\n\t\t\t\tif (attr == masked)\n\t\t\t\t\ttraceObjectMasked[attr] = \"******\";\n\t\t\t\telse\n\t\t\t\t\ttraceObjectMasked[attr] = traceObject[attr];\n\t\t\t}\n\t\t}\n\t\treturn traceObjectMasked;\n\t};\n\n\t// ------------------------------------------------------------------------\n\t// Public Programming interface.\n\t// ------------------------------------------------------------------------\n\n\t/**\n\t * The JavaScript application communicates to the server using a {@link Paho.MQTT.Client} object.\n\t * <p>\n\t * Most applications will create just one Client object and then call its connect() method,\n\t * however applications can create more than one Client object if they wish.\n\t * In this case the combination of host, port and clientId attributes must be different for each Client object.\n\t * <p>\n\t * The send, subscribe and unsubscribe methods are implemented as asynchronous JavaScript methods\n\t * (even though the underlying protocol exchange might be synchronous in nature).\n\t * This means they signal their completion by calling back to the application,\n\t * via Success or Failure callback functions provided by the application on the method in question.\n\t * Such callbacks are called at most once per method invocation and do not persist beyond the lifetime\n\t * of the script that made the invocation.\n\t * <p>\n\t * In contrast there are some callback functions, most notably <i>onMessageArrived</i>,\n\t * that are defined on the {@link Paho.MQTT.Client} object.\n\t * These may get called multiple times, and aren't directly related to specific method invocations made by the client.\n\t *\n\t * @name Paho.MQTT.Client\n\t *\n\t * @constructor\n\t *\n\t * @param {string} host - the address of the messaging server, as a fully qualified WebSocket URI, as a DNS name or dotted decimal IP address.\n\t * @param {number} port - the port number to connect to - only required if host is not a URI\n\t * @param {string} path - the path on the host to connect to - only used if host is not a URI. Default: '/mqtt'.\n\t * @param {string} clientId - the Messaging client identifier, between 1 and 23 characters in length.\n\t *\n\t * @property {string} host - <i>read only</i> the server's DNS hostname or dotted decimal IP address.\n\t * @property {number} port - <i>read only</i> the server's port.\n\t * @property {string} path - <i>read only</i> the server's path.\n\t * @property {string} clientId - <i>read only</i> used when connecting to the server.\n\t * @property {function} onConnectionLost - called when a connection has been lost.\n\t *                            after a connect() method has succeeded.\n\t *                            Establish the call back used when a connection has been lost. The connection may be\n\t *                            lost because the client initiates a disconnect or because the server or network\n\t *                            cause the client to be disconnected. The disconnect call back may be called without\n\t *                            the connectionComplete call back being invoked if, for example the client fails to\n\t *                            connect.\n\t *                            A single response object parameter is passed to the onConnectionLost callback containing the following fields:\n\t *                            <ol>\n\t *                            <li>errorCode\n\t *                            <li>errorMessage\n\t *                            </ol>\n\t * @property {function} onMessageDelivered called when a message has been delivered.\n\t *                            All processing that this Client will ever do has been completed. So, for example,\n\t *                            in the case of a Qos=2 message sent by this client, the PubComp flow has been received from the server\n\t *                            and the message has been removed from persistent storage before this callback is invoked.\n\t *                            Parameters passed to the onMessageDelivered callback are:\n\t *                            <ol>\n\t *                            <li>{@link Paho.MQTT.Message} that was delivered.\n\t *                            </ol>\n\t * @property {function} onMessageArrived called when a message has arrived in this Paho.MQTT.client.\n\t *                            Parameters passed to the onMessageArrived callback are:\n\t *                            <ol>\n\t *                            <li>{@link Paho.MQTT.Message} that has arrived.\n\t *                            </ol>\n\t */\n\tvar Client = function (host, port, path, clientId) {\n\n\t    var uri;\n\n\t\tif (typeof host !== \"string\")\n\t\t\tthrow new Error(format(ERROR.INVALID_TYPE, [typeof host, \"host\"]));\n\n\t    if (arguments.length == 2) {\n\t        // host: must be full ws:// uri\n\t        // port: clientId\n\t        clientId = port;\n\t        uri = host;\n\t        var match = uri.match(/^(wss?):\\/\\/((\\[(.+)\\])|([^\\/]+?))(:(\\d+))?(\\/.*)$/);\n\t        if (match) {\n\t            host = match[4]||match[2];\n\t            port = parseInt(match[7]);\n\t            path = match[8];\n\t        } else {\n\t            throw new Error(format(ERROR.INVALID_ARGUMENT,[host,\"host\"]));\n\t        }\n\t    } else {\n\t        if (arguments.length == 3) {\n\t\t\t\tclientId = path;\n\t\t\t\tpath = \"/mqtt\";\n\t\t\t}\n\t\t\tif (typeof port !== \"number\" || port < 0)\n\t\t\t\tthrow new Error(format(ERROR.INVALID_TYPE, [typeof port, \"port\"]));\n\t\t\tif (typeof path !== \"string\")\n\t\t\t\tthrow new Error(format(ERROR.INVALID_TYPE, [typeof path, \"path\"]));\n\n\t\t\tvar ipv6AddSBracket = (host.indexOf(\":\") != -1 && host.slice(0,1) != \"[\" && host.slice(-1) != \"]\");\n\t\t\turi = \"ws://\"+(ipv6AddSBracket?\"[\"+host+\"]\":host)+\":\"+port+path;\n\t\t}\n\n\t\tvar clientIdLength = 0;\n\t\tfor (var i = 0; i<clientId.length; i++) {\n\t\t\tvar charCode = clientId.charCodeAt(i);\n\t\t\tif (0xD800 <= charCode && charCode <= 0xDBFF)  {\n\t\t\t\t i++; // Surrogate pair.\n\t\t\t}\n\t\t\tclientIdLength++;\n\t\t}\n\t\tif (typeof clientId !== \"string\" || clientIdLength > 65535)\n\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT, [clientId, \"clientId\"]));\n\n\t\tvar client = new ClientImpl(uri, host, port, path, clientId);\n\t\tthis._getHost =  function() { return host; };\n\t\tthis._setHost = function() { throw new Error(format(ERROR.UNSUPPORTED_OPERATION)); };\n\n\t\tthis._getPort = function() { return port; };\n\t\tthis._setPort = function() { throw new Error(format(ERROR.UNSUPPORTED_OPERATION)); };\n\n\t\tthis._getPath = function() { return path; };\n\t\tthis._setPath = function() { throw new Error(format(ERROR.UNSUPPORTED_OPERATION)); };\n\n\t\tthis._getURI = function() { return uri; };\n\t\tthis._setURI = function() { throw new Error(format(ERROR.UNSUPPORTED_OPERATION)); };\n\n\t\tthis._getClientId = function() { return client.clientId; };\n\t\tthis._setClientId = function() { throw new Error(format(ERROR.UNSUPPORTED_OPERATION)); };\n\n\t\tthis._getOnConnectionLost = function() { return client.onConnectionLost; };\n\t\tthis._setOnConnectionLost = function(newOnConnectionLost) {\n\t\t\tif (typeof newOnConnectionLost === \"function\")\n\t\t\t\tclient.onConnectionLost = newOnConnectionLost;\n\t\t\telse\n\t\t\t\tthrow new Error(format(ERROR.INVALID_TYPE, [typeof newOnConnectionLost, \"onConnectionLost\"]));\n\t\t};\n\n\t\tthis._getOnMessageDelivered = function() { return client.onMessageDelivered; };\n\t\tthis._setOnMessageDelivered = function(newOnMessageDelivered) {\n\t\t\tif (typeof newOnMessageDelivered === \"function\")\n\t\t\t\tclient.onMessageDelivered = newOnMessageDelivered;\n\t\t\telse\n\t\t\t\tthrow new Error(format(ERROR.INVALID_TYPE, [typeof newOnMessageDelivered, \"onMessageDelivered\"]));\n\t\t};\n\n\t\tthis._getOnMessageArrived = function() { return client.onMessageArrived; };\n\t\tthis._setOnMessageArrived = function(newOnMessageArrived) {\n\t\t\tif (typeof newOnMessageArrived === \"function\")\n\t\t\t\tclient.onMessageArrived = newOnMessageArrived;\n\t\t\telse\n\t\t\t\tthrow new Error(format(ERROR.INVALID_TYPE, [typeof newOnMessageArrived, \"onMessageArrived\"]));\n\t\t};\n\n\t\tthis._getTrace = function() { return client.traceFunction; };\n\t\tthis._setTrace = function(trace) {\n\t\t\tif(typeof trace === \"function\"){\n\t\t\t\tclient.traceFunction = trace;\n\t\t\t}else{\n\t\t\t\tthrow new Error(format(ERROR.INVALID_TYPE, [typeof trace, \"onTrace\"]));\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t * Connect this Messaging client to its server.\n\t\t *\n\t\t * @name Paho.MQTT.Client#connect\n\t\t * @function\n\t\t * @param {Object} connectOptions - attributes used with the connection.\n\t\t * @param {number} connectOptions.timeout - If the connect has not succeeded within this\n\t\t *                    number of seconds, it is deemed to have failed.\n\t\t *                    The default is 30 seconds.\n\t\t * @param {string} connectOptions.userName - Authentication username for this connection.\n\t\t * @param {string} connectOptions.password - Authentication password for this connection.\n\t\t * @param {Paho.MQTT.Message} connectOptions.willMessage - sent by the server when the client\n\t\t *                    disconnects abnormally.\n\t\t * @param {Number} connectOptions.keepAliveInterval - the server disconnects this client if\n\t\t *                    there is no activity for this number of seconds.\n\t\t *                    The default value of 60 seconds is assumed if not set.\n\t\t * @param {boolean} connectOptions.cleanSession - if true(default) the client and server\n\t\t *                    persistent state is deleted on successful connect.\n\t\t * @param {boolean} connectOptions.useSSL - if present and true, use an SSL Websocket connection.\n\t\t * @param {object} connectOptions.invocationContext - passed to the onSuccess callback or onFailure callback.\n\t\t * @param {function} connectOptions.onSuccess - called when the connect acknowledgement\n\t\t *                    has been received from the server.\n\t\t * A single response object parameter is passed to the onSuccess callback containing the following fields:\n\t\t * <ol>\n\t\t * <li>invocationContext as passed in to the onSuccess method in the connectOptions.\n\t\t * </ol>\n\t\t * @config {function} [onFailure] called when the connect request has failed or timed out.\n\t\t * A single response object parameter is passed to the onFailure callback containing the following fields:\n\t\t * <ol>\n\t\t * <li>invocationContext as passed in to the onFailure method in the connectOptions.\n\t\t * <li>errorCode a number indicating the nature of the error.\n\t\t * <li>errorMessage text describing the error.\n\t\t * </ol>\n\t\t * @config {Array} [hosts] If present this contains either a set of hostnames or fully qualified\n\t\t * WebSocket URIs (ws://example.com:1883/mqtt), that are tried in order in place\n\t\t * of the host and port paramater on the construtor. The hosts are tried one at at time in order until\n\t\t * one of then succeeds.\n\t\t * @config {Array} [ports] If present the set of ports matching the hosts. If hosts contains URIs, this property\n\t\t * is not used.\n\t\t * @throws {InvalidState} if the client is not in disconnected state. The client must have received connectionLost\n\t\t * or disconnected before calling connect for a second or subsequent time.\n\t\t */\n\t\tthis.connect = function (connectOptions) {\n\t\t\tconnectOptions = connectOptions || {} ;\n\t\t\tvalidate(connectOptions,  {timeout:\"number\",\n\t\t\t\t\t\t\t\t\t   userName:\"string\",\n\t\t\t\t\t\t\t\t\t   password:\"string\",\n\t\t\t\t\t\t\t\t\t   willMessage:\"object\",\n\t\t\t\t\t\t\t\t\t   keepAliveInterval:\"number\",\n\t\t\t\t\t\t\t\t\t   cleanSession:\"boolean\",\n\t\t\t\t\t\t\t\t\t   useSSL:\"boolean\",\n\t\t\t\t\t\t\t\t\t   invocationContext:\"object\",\n\t\t\t\t\t\t\t\t\t   onSuccess:\"function\",\n\t\t\t\t\t\t\t\t\t   onFailure:\"function\",\n\t\t\t\t\t\t\t\t\t   hosts:\"object\",\n\t\t\t\t\t\t\t\t\t   ports:\"object\",\n\t\t\t\t\t\t\t\t\t   mqttVersion:\"number\"});\n\n\t\t\t// If no keep alive interval is set, assume 60 seconds.\n\t\t\tif (connectOptions.keepAliveInterval === undefined)\n\t\t\t\tconnectOptions.keepAliveInterval = 60;\n\n\t\t\tif (connectOptions.mqttVersion > 4 || connectOptions.mqttVersion < 3) {\n\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT, [connectOptions.mqttVersion, \"connectOptions.mqttVersion\"]));\n\t\t\t}\n\n\t\t\tif (connectOptions.mqttVersion === undefined) {\n\t\t\t\tconnectOptions.mqttVersionExplicit = false;\n\t\t\t\tconnectOptions.mqttVersion = 4;\n\t\t\t} else {\n\t\t\t\tconnectOptions.mqttVersionExplicit = true;\n\t\t\t}\n\n\t\t\t//Check that if password is set, so is username\n\t\t\tif (connectOptions.password === undefined && connectOptions.userName !== undefined)\n\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT, [connectOptions.password, \"connectOptions.password\"]))\n\n\t\t\tif (connectOptions.willMessage) {\n\t\t\t\tif (!(connectOptions.willMessage instanceof Message))\n\t\t\t\t\tthrow new Error(format(ERROR.INVALID_TYPE, [connectOptions.willMessage, \"connectOptions.willMessage\"]));\n\t\t\t\t// The will message must have a payload that can be represented as a string.\n\t\t\t\t// Cause the willMessage to throw an exception if this is not the case.\n\t\t\t\tconnectOptions.willMessage.stringPayload;\n\n\t\t\t\tif (typeof connectOptions.willMessage.destinationName === \"undefined\")\n\t\t\t\t\tthrow new Error(format(ERROR.INVALID_TYPE, [typeof connectOptions.willMessage.destinationName, \"connectOptions.willMessage.destinationName\"]));\n\t\t\t}\n\t\t\tif (typeof connectOptions.cleanSession === \"undefined\")\n\t\t\t\tconnectOptions.cleanSession = true;\n\t\t\tif (connectOptions.hosts) {\n\n\t\t\t\tif (!(connectOptions.hosts instanceof Array) )\n\t\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT, [connectOptions.hosts, \"connectOptions.hosts\"]));\n\t\t\t\tif (connectOptions.hosts.length <1 )\n\t\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT, [connectOptions.hosts, \"connectOptions.hosts\"]));\n\n\t\t\t\tvar usingURIs = false;\n\t\t\t\tfor (var i = 0; i<connectOptions.hosts.length; i++) {\n\t\t\t\t\tif (typeof connectOptions.hosts[i] !== \"string\")\n\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_TYPE, [typeof connectOptions.hosts[i], \"connectOptions.hosts[\"+i+\"]\"]));\n\t\t\t\t\tif (/^(wss?):\\/\\/((\\[(.+)\\])|([^\\/]+?))(:(\\d+))?(\\/.*)$/.test(connectOptions.hosts[i])) {\n\t\t\t\t\t\tif (i == 0) {\n\t\t\t\t\t\t\tusingURIs = true;\n\t\t\t\t\t\t} else if (!usingURIs) {\n\t\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT, [connectOptions.hosts[i], \"connectOptions.hosts[\"+i+\"]\"]));\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (usingURIs) {\n\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT, [connectOptions.hosts[i], \"connectOptions.hosts[\"+i+\"]\"]));\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (!usingURIs) {\n\t\t\t\t\tif (!connectOptions.ports)\n\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT, [connectOptions.ports, \"connectOptions.ports\"]));\n\t\t\t\t\tif (!(connectOptions.ports instanceof Array) )\n\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT, [connectOptions.ports, \"connectOptions.ports\"]));\n\t\t\t\t\tif (connectOptions.hosts.length != connectOptions.ports.length)\n\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT, [connectOptions.ports, \"connectOptions.ports\"]));\n\n\t\t\t\t\tconnectOptions.uris = [];\n\n\t\t\t\t\tfor (var i = 0; i<connectOptions.hosts.length; i++) {\n\t\t\t\t\t\tif (typeof connectOptions.ports[i] !== \"number\" || connectOptions.ports[i] < 0)\n\t\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_TYPE, [typeof connectOptions.ports[i], \"connectOptions.ports[\"+i+\"]\"]));\n\t\t\t\t\t\tvar host = connectOptions.hosts[i];\n\t\t\t\t\t\tvar port = connectOptions.ports[i];\n\n\t\t\t\t\t\tvar ipv6 = (host.indexOf(\":\") != -1);\n\t\t\t\t\t\turi = \"ws://\"+(ipv6?\"[\"+host+\"]\":host)+\":\"+port+path;\n\t\t\t\t\t\tconnectOptions.uris.push(uri);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconnectOptions.uris = connectOptions.hosts;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tclient.connect(connectOptions);\n\t\t};\n\n\t\t/**\n\t\t * Subscribe for messages, request receipt of a copy of messages sent to the destinations described by the filter.\n\t\t *\n\t\t * @name Paho.MQTT.Client#subscribe\n\t\t * @function\n\t\t * @param {string} filter describing the destinations to receive messages from.\n\t\t * <br>\n\t\t * @param {object} subscribeOptions - used to control the subscription\n\t\t *\n\t\t * @param {number} subscribeOptions.qos - the maiximum qos of any publications sent\n\t\t *                                  as a result of making this subscription.\n\t\t * @param {object} subscribeOptions.invocationContext - passed to the onSuccess callback\n\t\t *                                  or onFailure callback.\n\t\t * @param {function} subscribeOptions.onSuccess - called when the subscribe acknowledgement\n\t\t *                                  has been received from the server.\n\t\t *                                  A single response object parameter is passed to the onSuccess callback containing the following fields:\n\t\t *                                  <ol>\n\t\t *                                  <li>invocationContext if set in the subscribeOptions.\n\t\t *                                  </ol>\n\t\t * @param {function} subscribeOptions.onFailure - called when the subscribe request has failed or timed out.\n\t\t *                                  A single response object parameter is passed to the onFailure callback containing the following fields:\n\t\t *                                  <ol>\n\t\t *                                  <li>invocationContext - if set in the subscribeOptions.\n\t\t *                                  <li>errorCode - a number indicating the nature of the error.\n\t\t *                                  <li>errorMessage - text describing the error.\n\t\t *                                  </ol>\n\t\t * @param {number} subscribeOptions.timeout - which, if present, determines the number of\n\t\t *                                  seconds after which the onFailure calback is called.\n\t\t *                                  The presence of a timeout does not prevent the onSuccess\n\t\t *                                  callback from being called when the subscribe completes.\n\t\t * @throws {InvalidState} if the client is not in connected state.\n\t\t */\n\t\tthis.subscribe = function (filter, subscribeOptions) {\n\t\t\tif (typeof filter !== \"string\")\n\t\t\t\tthrow new Error(\"Invalid argument:\"+filter);\n\t\t\tsubscribeOptions = subscribeOptions || {} ;\n\t\t\tvalidate(subscribeOptions,  {qos:\"number\",\n\t\t\t\t\t\t\t\t\t\t invocationContext:\"object\",\n\t\t\t\t\t\t\t\t\t\t onSuccess:\"function\",\n\t\t\t\t\t\t\t\t\t\t onFailure:\"function\",\n\t\t\t\t\t\t\t\t\t\t timeout:\"number\"\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\tif (subscribeOptions.timeout && !subscribeOptions.onFailure)\n\t\t\t\tthrow new Error(\"subscribeOptions.timeout specified with no onFailure callback.\");\n\t\t\tif (typeof subscribeOptions.qos !== \"undefined\"\n\t\t\t\t&& !(subscribeOptions.qos === 0 || subscribeOptions.qos === 1 || subscribeOptions.qos === 2 ))\n\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT, [subscribeOptions.qos, \"subscribeOptions.qos\"]));\n\t\t\tclient.subscribe(filter, subscribeOptions);\n\t\t};\n\n\t\t/**\n\t\t * Unsubscribe for messages, stop receiving messages sent to destinations described by the filter.\n\t\t *\n\t\t * @name Paho.MQTT.Client#unsubscribe\n\t\t * @function\n\t\t * @param {string} filter - describing the destinations to receive messages from.\n\t\t * @param {object} unsubscribeOptions - used to control the subscription\n\t\t * @param {object} unsubscribeOptions.invocationContext - passed to the onSuccess callback\n\t\t                                      or onFailure callback.\n\t\t * @param {function} unsubscribeOptions.onSuccess - called when the unsubscribe acknowledgement has been received from the server.\n\t\t *                                    A single response object parameter is passed to the\n\t\t *                                    onSuccess callback containing the following fields:\n\t\t *                                    <ol>\n\t\t *                                    <li>invocationContext - if set in the unsubscribeOptions.\n\t\t *                                    </ol>\n\t\t * @param {function} unsubscribeOptions.onFailure called when the unsubscribe request has failed or timed out.\n\t\t *                                    A single response object parameter is passed to the onFailure callback containing the following fields:\n\t\t *                                    <ol>\n\t\t *                                    <li>invocationContext - if set in the unsubscribeOptions.\n\t\t *                                    <li>errorCode - a number indicating the nature of the error.\n\t\t *                                    <li>errorMessage - text describing the error.\n\t\t *                                    </ol>\n\t\t * @param {number} unsubscribeOptions.timeout - which, if present, determines the number of seconds\n\t\t *                                    after which the onFailure callback is called. The presence of\n\t\t *                                    a timeout does not prevent the onSuccess callback from being\n\t\t *                                    called when the unsubscribe completes\n\t\t * @throws {InvalidState} if the client is not in connected state.\n\t\t */\n\t\tthis.unsubscribe = function (filter, unsubscribeOptions) {\n\t\t\tif (typeof filter !== \"string\")\n\t\t\t\tthrow new Error(\"Invalid argument:\"+filter);\n\t\t\tunsubscribeOptions = unsubscribeOptions || {} ;\n\t\t\tvalidate(unsubscribeOptions,  {invocationContext:\"object\",\n\t\t\t\t\t\t\t\t\t\t   onSuccess:\"function\",\n\t\t\t\t\t\t\t\t\t\t   onFailure:\"function\",\n\t\t\t\t\t\t\t\t\t\t   timeout:\"number\"\n\t\t\t\t\t\t\t\t\t\t  });\n\t\t\tif (unsubscribeOptions.timeout && !unsubscribeOptions.onFailure)\n\t\t\t\tthrow new Error(\"unsubscribeOptions.timeout specified with no onFailure callback.\");\n\t\t\tclient.unsubscribe(filter, unsubscribeOptions);\n\t\t};\n\n\t\t/**\n\t\t * Send a message to the consumers of the destination in the Message.\n\t\t *\n\t\t * @name Paho.MQTT.Client#send\n\t\t * @function\n\t\t * @param {string|Paho.MQTT.Message} topic - <b>mandatory</b> The name of the destination to which the message is to be sent.\n\t\t * \t\t\t\t\t   - If it is the only parameter, used as Paho.MQTT.Message object.\n\t\t * @param {String|ArrayBuffer} payload - The message data to be sent.\n\t\t * @param {number} qos The Quality of Service used to deliver the message.\n\t\t * \t\t<dl>\n\t\t * \t\t\t<dt>0 Best effort (default).\n\t\t *     \t\t\t<dt>1 At least once.\n\t\t *     \t\t\t<dt>2 Exactly once.\n\t\t * \t\t</dl>\n\t\t * @param {Boolean} retained If true, the message is to be retained by the server and delivered\n\t\t *                     to both current and future subscriptions.\n\t\t *                     If false the server only delivers the message to current subscribers, this is the default for new Messages.\n\t\t *                     A received message has the retained boolean set to true if the message was published\n\t\t *                     with the retained boolean set to true\n\t\t *                     and the subscrption was made after the message has been published.\n\t\t * @throws {InvalidState} if the client is not connected.\n\t\t */\n\t\tthis.send = function (topic,payload,qos,retained) {\n\t\t\tvar message ;\n\n\t\t\tif(arguments.length == 0){\n\t\t\t\tthrow new Error(\"Invalid argument.\"+\"length\");\n\n\t\t\t}else if(arguments.length == 1) {\n\n\t\t\t\tif (!(topic instanceof Message) && (typeof topic !== \"string\"))\n\t\t\t\t\tthrow new Error(\"Invalid argument:\"+ typeof topic);\n\n\t\t\t\tmessage = topic;\n\t\t\t\tif (typeof message.destinationName === \"undefined\")\n\t\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT,[message.destinationName,\"Message.destinationName\"]));\n\t\t\t\tclient.send(message);\n\n\t\t\t}else {\n\t\t\t\t//parameter checking in Message object\n\t\t\t\tmessage = new Message(payload);\n\t\t\t\tmessage.destinationName = topic;\n\t\t\t\tif(arguments.length >= 3)\n\t\t\t\t\tmessage.qos = qos;\n\t\t\t\tif(arguments.length >= 4)\n\t\t\t\t\tmessage.retained = retained;\n\t\t\t\tclient.send(message);\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t * Normal disconnect of this Messaging client from its server.\n\t\t *\n\t\t * @name Paho.MQTT.Client#disconnect\n\t\t * @function\n\t\t * @throws {InvalidState} if the client is already disconnected.\n\t\t */\n\t\tthis.disconnect = function () {\n\t\t\tclient.disconnect();\n\t\t};\n\n\t\t/**\n\t\t * Get the contents of the trace log.\n\t\t *\n\t\t * @name Paho.MQTT.Client#getTraceLog\n\t\t * @function\n\t\t * @return {Object[]} tracebuffer containing the time ordered trace records.\n\t\t */\n\t\tthis.getTraceLog = function () {\n\t\t\treturn client.getTraceLog();\n\t\t}\n\n\t\t/**\n\t\t * Start tracing.\n\t\t *\n\t\t * @name Paho.MQTT.Client#startTrace\n\t\t * @function\n\t\t */\n\t\tthis.startTrace = function () {\n\t\t\tclient.startTrace();\n\t\t};\n\n\t\t/**\n\t\t * Stop tracing.\n\t\t *\n\t\t * @name Paho.MQTT.Client#stopTrace\n\t\t * @function\n\t\t */\n\t\tthis.stopTrace = function () {\n\t\t\tclient.stopTrace();\n\t\t};\n\n\t\tthis.isConnected = function() {\n\t\t\treturn client.connected;\n\t\t};\n\t};\n\n\tClient.prototype = {\n\t\tget host() { return this._getHost(); },\n\t\tset host(newHost) { this._setHost(newHost); },\n\n\t\tget port() { return this._getPort(); },\n\t\tset port(newPort) { this._setPort(newPort); },\n\n\t\tget path() { return this._getPath(); },\n\t\tset path(newPath) { this._setPath(newPath); },\n\n\t\tget clientId() { return this._getClientId(); },\n\t\tset clientId(newClientId) { this._setClientId(newClientId); },\n\n\t\tget onConnectionLost() { return this._getOnConnectionLost(); },\n\t\tset onConnectionLost(newOnConnectionLost) { this._setOnConnectionLost(newOnConnectionLost); },\n\n\t\tget onMessageDelivered() { return this._getOnMessageDelivered(); },\n\t\tset onMessageDelivered(newOnMessageDelivered) { this._setOnMessageDelivered(newOnMessageDelivered); },\n\n\t\tget onMessageArrived() { return this._getOnMessageArrived(); },\n\t\tset onMessageArrived(newOnMessageArrived) { this._setOnMessageArrived(newOnMessageArrived); },\n\n\t\tget trace() { return this._getTrace(); },\n\t\tset trace(newTraceFunction) { this._setTrace(newTraceFunction); }\n\n\t};\n\n\t/**\n\t * An application message, sent or received.\n\t * <p>\n\t * All attributes may be null, which implies the default values.\n\t *\n\t * @name Paho.MQTT.Message\n\t * @constructor\n\t * @param {String|ArrayBuffer} payload The message data to be sent.\n\t * <p>\n\t * @property {string} payloadString <i>read only</i> The payload as a string if the payload consists of valid UTF-8 characters.\n\t * @property {ArrayBuffer} payloadBytes <i>read only</i> The payload as an ArrayBuffer.\n\t * <p>\n\t * @property {string} destinationName <b>mandatory</b> The name of the destination to which the message is to be sent\n\t *                    (for messages about to be sent) or the name of the destination from which the message has been received.\n\t *                    (for messages received by the onMessage function).\n\t * <p>\n\t * @property {number} qos The Quality of Service used to deliver the message.\n\t * <dl>\n\t *     <dt>0 Best effort (default).\n\t *     <dt>1 At least once.\n\t *     <dt>2 Exactly once.\n\t * </dl>\n\t * <p>\n\t * @property {Boolean} retained If true, the message is to be retained by the server and delivered\n\t *                     to both current and future subscriptions.\n\t *                     If false the server only delivers the message to current subscribers, this is the default for new Messages.\n\t *                     A received message has the retained boolean set to true if the message was published\n\t *                     with the retained boolean set to true\n\t *                     and the subscrption was made after the message has been published.\n\t * <p>\n\t * @property {Boolean} duplicate <i>read only</i> If true, this message might be a duplicate of one which has already been received.\n\t *                     This is only set on messages received from the server.\n\t *\n\t */\n\tvar Message = function (newPayload) {\n\t\tvar payload;\n\t\tif (   typeof newPayload === \"string\"\n\t\t\t|| newPayload instanceof ArrayBuffer\n\t\t\t|| newPayload instanceof Int8Array\n\t\t\t|| newPayload instanceof Uint8Array\n\t\t\t|| newPayload instanceof Int16Array\n\t\t\t|| newPayload instanceof Uint16Array\n\t\t\t|| newPayload instanceof Int32Array\n\t\t\t|| newPayload instanceof Uint32Array\n\t\t\t|| newPayload instanceof Float32Array\n\t\t\t|| newPayload instanceof Float64Array\n\t\t   ) {\n\t\t\tpayload = newPayload;\n\t\t} else {\n\t\t\tthrow (format(ERROR.INVALID_ARGUMENT, [newPayload, \"newPayload\"]));\n\t\t}\n\n\t\tthis._getPayloadString = function () {\n\t\t\tif (typeof payload === \"string\")\n\t\t\t\treturn payload;\n\t\t\telse\n\t\t\t\treturn parseUTF8(payload, 0, payload.length);\n\t\t};\n\n\t\tthis._getPayloadBytes = function() {\n\t\t\tif (typeof payload === \"string\") {\n\t\t\t\tvar buffer = new ArrayBuffer(UTF8Length(payload));\n\t\t\t\tvar byteStream = new Uint8Array(buffer);\n\t\t\t\tstringToUTF8(payload, byteStream, 0);\n\n\t\t\t\treturn byteStream;\n\t\t\t} else {\n\t\t\t\treturn payload;\n\t\t\t};\n\t\t};\n\n\t\tvar destinationName = undefined;\n\t\tthis._getDestinationName = function() { return destinationName; };\n\t\tthis._setDestinationName = function(newDestinationName) {\n\t\t\tif (typeof newDestinationName === \"string\")\n\t\t\t\tdestinationName = newDestinationName;\n\t\t\telse\n\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT, [newDestinationName, \"newDestinationName\"]));\n\t\t};\n\n\t\tvar qos = 0;\n\t\tthis._getQos = function() { return qos; };\n\t\tthis._setQos = function(newQos) {\n\t\t\tif (newQos === 0 || newQos === 1 || newQos === 2 )\n\t\t\t\tqos = newQos;\n\t\t\telse\n\t\t\t\tthrow new Error(\"Invalid argument:\"+newQos);\n\t\t};\n\n\t\tvar retained = false;\n\t\tthis._getRetained = function() { return retained; };\n\t\tthis._setRetained = function(newRetained) {\n\t\t\tif (typeof newRetained === \"boolean\")\n\t\t\t\tretained = newRetained;\n\t\t\telse\n\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT, [newRetained, \"newRetained\"]));\n\t\t};\n\n\t\tvar duplicate = false;\n\t\tthis._getDuplicate = function() { return duplicate; };\n\t\tthis._setDuplicate = function(newDuplicate) { duplicate = newDuplicate; };\n\t};\n\n\tMessage.prototype = {\n\t\tget payloadString() { return this._getPayloadString(); },\n\t\tget payloadBytes() { return this._getPayloadBytes(); },\n\n\t\tget destinationName() { return this._getDestinationName(); },\n\t\tset destinationName(newDestinationName) { this._setDestinationName(newDestinationName); },\n\n\t\tget qos() { return this._getQos(); },\n\t\tset qos(newQos) { this._setQos(newQos); },\n\n\t\tget retained() { return this._getRetained(); },\n\t\tset retained(newRetained) { this._setRetained(newRetained); },\n\n\t\tget duplicate() { return this._getDuplicate(); },\n\t\tset duplicate(newDuplicate) { this._setDuplicate(newDuplicate); }\n\t};\n\n\t// Module contents.\n\treturn {\n\t\tClient: Client,\n\t\tMessage: Message\n\t};\n\n});\n","\nconst messageReducer = (state, action)=>{\n  const keys =Object.keys(state)\n  const newstate = keys.reduce((newdata, label)=>{\n    if(action.type==label){\n      const tmp ={}\n      tmp[label] ={...newdata[label]} //\n      Object.keys(state[label]).map((d)=>{\n        if(typeof action.payload[d] !== 'undefined'){\n          tmp[label][d] = action.payload[d]\n        }\n      })\n      newdata[label]=tmp[label]\n    }\n    return newdata\n  },{...state})\n  return newstate\n}\n\n\nconst extractLabelArray=(message, devs)=>{\n  //app could have may devs each with its own srs\n  const dev = Object.keys(devs).find(key => key === message.dev)\n  //messages all have dev/topic\n  let srlabelarr=[] //[{sr:2, labe:'bridge}, {sr:4, label:'pond}]\n  if(message.topic=='srstate'){\n    srlabelarr = devs[dev].filter((a)=>a.sr === message.payload.id)\n  }if(message.topic=='timr'){\n    if (message.payload.tIMElEFT.reduce((a,v)=>a+v)==0){\n      srlabelarr = devs[dev]//if /timr comes in as [0,0,0,0,0]then send it to all\n    }else {\n      srlabelarr = devs[dev].filter((a)=>message.payload.tIMElEFT[a.sr]>0)\n    }\n  }if(message.topic=='sched'){\n    srlabelarr = devs[dev].filter((a)=>a.sr === message.payload.id)\n  }\n  return srlabelarr\n}\n\nconst processRawMessage= (mess)=>{\n  var narr = mess.destinationName.split('/')\n  const dev = narr[0]\n  const topic = narr[1]\n  var pls = mess.payloadString\n  const payload= JSON.parse(pls)\n  // console.log('payload: ',dev, topic, JSON.stringify(payload))\n  const message = {dev:dev, topic:topic, payload:payload}\n  return message\n}\n\nconst processMessage = (mess, devs, bigstate)=>{\n  const message = processRawMessage(mess)\n  const newstates =[]\n  const devinfArr = extractLabelArray(message, devs)\n  console.log('vvvvvmessge.dev: ', message.dev)\n  devinfArr.map((devinf)=>{\n    const action={}\n    action.payload={}\n    if(message.topic=='srstate'){\n      if(devinf && devinf.label){\n        action.type=devinf.label\n        action.payload.darr = message.payload.darr\n        if(message.payload.darr[0]==0){\n          action.payload.timeleft=0\n        }\n      }\n    }\n    if(message.topic=='timr'){\n      if(devinf && devinf.label){\n        action.type=devinf.label\n        action.payload.timeleft = message.payload.tIMElEFT[devinf.sr]  \n      }\n    }\n    if(message.topic=='sched'){\n      if(devinf && devinf.label){\n        action.type=devinf.label\n        action.payload.pro = message.payload.pro\n      }\n    }\n    if(message.topic=='devtime'){\n      action.type='time'\n      action.payload = message.payload\n    }\n    if(Object.entries(action.payload).length != 0){\n      const prt ={}\n      prt[action.type]= {...bigstate[action.type]}\n      const newstate =  messageReducer(prt, action)\n      newstates.push(newstate)\n    }    \n  })\n  if(message.topic=='devtime'){\n    newstates[0]={jdtime:message.payload}\n  }\n  if(message.topic=='jdtime'){\n    newstates[0]={jdtime:message.payload}\n  }\n  const nsarr = newstates\n  const processed_message =message\n  return {nsarr, processed_message} \n}\nexport{processMessage}","import React, { Component } from \"react\";\nimport { Context } from \"./context\";\nvar Paho = require('./mqttws31.js')\n\nexport default class Provider extends Component {\n  constructor(props) {\n    super(props);\n    const {cfg}=this.props \n    console.log(cfg);\n    this.client = new Paho.Client(cfg.mqtt_server, cfg.mqtt_port, cfg.appid+Math.random())\n    this.client.onConnectionLost=(responseObject)=> {\n      if (responseObject.errorCode !== 0) {\n        console.log('Connection Lost ' + responseObject.errorMessage);\n      }\n    }\n  }\n\n  publish =(client, topic, payload)=>{\n    var message = new Paho.Message(payload);\n    message.destinationName = topic;\n    client.send(message)\n  }\n\n  render() {\n    return (\n      <Context.Provider value={[this.client, this.publish]}>\n        {this.props.children}\n      </Context.Provider>\n    );\n  }\n}","import { useEffect, useState} from \"react\";\n// import {connect } from './index'\n\nconst geta=(dotstr, obj)=>{\n  return dotstr.split(\".\")\n    .slice(1)\n    .reduce((xs,x)=>(xs && xs[x]) ? xs[x] : null , obj)\n}\n\nexport function useDevSpecs(ls,cfg, client,cb ){\n  var lsh = ls.getItem()\n  // lsh is email and token \n  const [zones ,setZones] = useState({});\n  const [binfo ,setBinfo] = useState({});\n  const [devs,setDevs] = useState(undefined) \n  const [specs,setSpecs] = useState(undefined) \n  const [error, setError] =useState(undefined)\n  const [mounted, setMounted] =useState(false)\n  const fetchDevZones=()=>{\n    if(geta('lsh.token', lsh)){\n      let url= cfg.url.api+'/admin/i/devzones'\n      let options= {\n        headers: {'Authorization': 'Bearer '+ lsh['token']},\n        method: 'GET'\n      }  \n      return(\n        fetch(url, options)\n          .then((response)=>response.json())\n      ) \n    }else{\n      let p2 =Promise.resolve({qmessage:'you dont exist! '})\n      return p2\n    } \n  }\n  useEffect(() => {\n    let didCancel=false\n    if(!didCancel){\n      fetchDevZones().then((data)=>{\n        console.log(data);\n        if(data){\n          if (data && data.qmessage){\n            setError(data)\n          }else{\n            setZones(data.zones)\n            Object.keys(data.devs)\n            setDevs(data.devs)\n            setBinfo(data.binfo)\n            setSpecs(data.specs)\n            cb(data.devs, data.zones)\n            // if (!client.isConnected()){\n            //   connect(client, lsh, ()=>cb(client,data.devs)) \n            // }\n          }\n        }\n      })\n    }\n    return ()=>{\n      didCancel=true\n      setMounted(false)\n      if(client.isConnected()){\n        // console.log('client disconnecting')\n        client.disconnect()\n      }\n    }\n  },[]); \n  return {devs, zones, binfo, specs, error, mounted} \n}\n\n\n","\n\n\nconst getNow=(tzadj)=>{\n  const d = new Date()\n  let hr = d.getHours()*1\n  let min = d.getMinutes()*1\n  const t = tzadj.split(':')\n  //-04:00 +240(browser UTC offset)\n  const tzadjmin=t[0]*60+t[1]*1+d.getTimezoneOffset()\n  let adjmin =hr*60+min+tzadjmin\n  adjmin = adjmin<0 ? adjmin+(24*60) : adjmin\n  adjmin = adjmin>(24*60) ? adjmin-(24*60) : adjmin\n  hr = Math.floor(adjmin/60)\n  min = adjmin % 60\n  return [hr, min]\n}\n\nconst startWhen = (tzadj, delay )=> {\n  let [hr, min ]= getNow(tzadj)\n  const de = delay ? delay.split(':') : [0,0]\n  hr += de[0]*1\n  min += de[1]*1\n  if (min>=60){min=min-60; hr=hr+1;}\n  if (hr>=24){hr=23; min = 59}\n  hr = hr<1 ? 24+hr : hr\n  return [hr, min]\n}\n\nconst endWhen = (start, dur)=>{\n  const add = dur.split(':')\n  let min = start[1]+add[1]*1\n  let hr = start[0]+add[0]*1\n  if(min>60) {min-=60; hr+=1}\n  if(hr>=24) {hr=23; min=59}\n  return [hr, min]\n}\n\nconst m2hm =(dur)=>{\n  const decmin = Math.floor((dur % 1)*60)\n  const hrs= Math.floor(dur/60)\n  const min= dur - hrs*60 + decmin\n  return `${hrs}:${min}`\n}\n\nconst m2ms=(dur)=>{\n  const sec = Math.floor(((dur/60) % 1)*60)\n  const min = Math.floor(dur/60)\n  return `${min}:${sec}`\n}\n\nconst arrEqual = (arr1, arr2)=>{\n  const ae = arr1.reduce((acc, a1, idx)=>a1==arr2[idx] ? acc+1 : acc+0 ,0)\n  return ae==arr1.length ? 1 : 0\n}\n\nconst hm2m =(hm)=>hm[0]*60+hm[1]*1\n\nconst last = (arr)=>arr[arr.length-1]\n\nconst newInterval = (starttime, startval, endtime, endval)=>{\n  const st = starttime.concat(startval)\n  const en = endtime.concat(endval)\n  return [st, en]\n}\n\nconst hma2time=(hma)=>{\n  let ap = 'am'\n  let hr = hma[0]\n  let min = hma[1]\n  if(hr>12){\n    hr = hr-12\n    ap = 'pm'\n  }\n  if(hr==12)ap='pm'\n  if (hr==0 && min==0) hr=12\n  hr = hr.toString().padStart(2,'')\n  min = min.toString().padStart(2,'0')\n  return `${hr}:${min} ${ap}`\n}\n\nconst whereInSched = (sched,tzadj)=>{\n  let now= getNow(tzadj)\n  const idx = sched.findIndex((s)=>{\n    return hm2m(s)>hm2m(now)\n  })\n  if(idx>-1){\n  //  console.log('hm2m(sched[idx]): ', hma2time(sched[idx]))\n  }\n  // console.log('idx: ', idx)\n  return idx\n}\n\nconst add2sched =  (osched, nintvl, tzadj)=>{\n  let i=0\n  let now= getNow(tzadj)\n  const sched = osched.slice()\n  const newsched = sched.reduce((acc, cur, idx)=>{\n    //console.log('cur: ', JSON.stringify(cur))\n    if(i==0){\n      /*bump til now */\n      if (hm2m(cur)<=hm2m(last(acc))){\n        acc.push(acc.pop().slice(0,2).concat(cur.slice(2)))\n      }else {i=1}\n      /*if we are at end of sched */\n      if (idx==sched.length-1){\n        i=2\n      }\n    } \n    if (i==1){\n      /*push til start */\n      if (cur.length<3 || hm2m(cur)<hm2m(nintvl[0])){\n        acc.push(cur)\n      }else if(hm2m(cur)==hm2m(nintvl[0])){\n        acc.pop()\n        acc.push(nintvl[0])\n      } \n      else {i=2}\n      /*if we are at end of sched go add interval*/\n      if (sched.length >1 && idx==sched.length-1){\n        i=2\n      }\n    } \n    if(i==2){\n      /*push interval */\n      //console.log('acc: ', JSON.stringify(acc))\n      //console.log('last, nintvl[0]: ',hm2m(last(acc)) , hm2m(nintvl[0]))\n      if(hm2m(last(acc)) == hm2m(nintvl[0])){\n        acc.pop()\n        //console.log('popped acc: ', JSON.stringify(acc))\n      }\n      if(last(acc) && arrEqual(last(acc).slice(2),nintvl[0].slice(2))){\n        /*if start action same */\n        acc.push(nintvl[1])\n      }else{\n        //console.log('should push both')\n        acc.push(nintvl[0])\n        acc.push(nintvl[1])\n        //console.log('acc: ', JSON.stringify(acc))\n      }\n      i=3\n      /*if we are at end of sched go add interval*/\n      if (sched.length >1 && idx==sched.length-1){\n        i=4\n      }\n    }\n    if (i==3){\n      //console.log('in case 3')\n      /*skip til end of interval */ \n      if(hm2m(cur)>hm2m(nintvl[1])) {\n        i=4\n      }\n      /*if we are at end of sched go add the rest*/\n      if (sched.length >1 && idx==sched.length-1){\n        i=4\n      }\n      //console.log('cur: ', cur)\n    }if (i==4){\n      //console.log('in case 4')\n      /*if end action is same as next get rid of it*/\n      if(arrEqual(nintvl[1].slice(2), cur.slice(2))){\n        acc = acc.concat(sched.slice(idx+1))\n      }else {\n        /*push the rest */\n        //console.log('acc: ', JSON.stringify(acc))\n        //console.log('sched.slice(idx): ', JSON.stringify(sched.slice(idx)))\n        acc = acc.concat(sched.slice(idx))\n        //console.log('acc: ', JSON.stringify(acc))\n      }\n      i=5\n    }\n    //console.log('acc: ', JSON.stringify(acc))\n    return acc\n  }, [now])\n  newsched.unshift([0,0,0])\n  return newsched\n}\n\nfunction setRelayStatus (bs){\n  if(bs.timeleft>0){\n    bs.status='timed'\n  }else if (bs.darr[0]==1 && bs.timeleft==0){\n    bs.status='on'\n  } else bs.status='off'\n  return bs\n}\n\nexport{startWhen, endWhen, newInterval, add2sched, m2hm, m2ms, getNow, setRelayStatus, whereInSched, hma2time}\n\n","/*  \ntemp_out: darr:[]\ntstat: {pro:[[0,0,65,63]], timeleft:0, darr:[reading,onoff,66,64]},\ntv: {pro:[[0,0,hi,lo]], darr:[reading,onoff,hi,lo]},\npond: {pro:[[0,0,0],[19,15,1]], timeleft:0, darr:[0,0,0]},\n//solar: darr:[sra_rdg, srb_rdg, difon, difoff,maxa, maxb onoff]\n*/\nconst initialState = {//pro must start at 0,0\n  zone1: {ctype: \"relay\", darr: [0,22,1,-1,-1], timeleft: 0 },\n  zone2: {ctype: \"relay\", darr: [0,22,2,0,0], timeleft: 0},\n  zone3: {ctype: \"relay\", darr: [0,22,3,1,0], timeleft: 0 },\n  zone4: {ctype: \"relay\", darr: [0,22,-1,2,0], timeleft: 0},\n  temp_out: {darr: [0]}\n}\n\n\nconst ctrltypes = \n{\n\"difctrl\": {\n  \"lab\": [\n    \"onoff\",\n    \"rdA\",\n    \"rdB\",\n    \"dif\",\n    \"difgt0\"\n  ],\n  \"cmd\": [\n    3\n  ],\n  \"prg\": [\n    3\n  ]\n},\n\"tstat\": {\n  \"lab\": [\n    \"onoff\",\n    \"reading\",\n    \"setting\",\n    \"dif\"\n  ],\n  \"cmd\": [\n    0,\n    2,\n    3\n  ],\n  \"prg\": [\n    3\n  ]\n},\n\"relay\": {\n  \"lab\": [\n    \"onoff\",\n    \"tsec\",\n    \"nxtsr\",\n    \"priosr\",\n    \"prionoff\"\n  ],\n  \"cmd\": [\n    0,\n    1\n  ],\n  \"prg\": [\n    1\n  ]\n},\n\"ctrl\": {\n  \"lab\": [\n    \"bell\",\n    \"reading\",\n    \"setting\"\n  ],\n  \"cmd\": [\n    2\n  ],\n  \"prg\": [\n    2\n  ]\n},\n\"array\": {\n  \"lab\": [\n    \"a0\",\n    \"a1\",\n    \"a2\",\n    \"a3\",\n    \"a4\",\n    \"a5\",\n    \"a6\",\n    \"a7\"\n  ],\n  \"cmd\": [],\n  \"prg\": []\n},\n\"se\": {\n  \"lab\": [\n    \"reading\"\n  ],\n  \"cmd\": [],\n  \"prg\": []\n},\n\"cs\": {\n  \"lab\": [\n    \"onoff\",\n    \"reading\",\n    \"hi\",\n    \"lo\"\n  ],\n  \"cmd\": [\n    0,\n    2,\n    3\n  ],\n  \"prg\": [\n    2,\n    3\n  ]\n},\n\"re\": {\n  \"lab\": [\n    \"onoff\"\n  ],\n  \"cmd\": [\n    0\n  ],\n  \"prg\": [\n    0\n  ]\n}\n} \n\nconst appid = \"edgewater\" \n\nconst dev1 = \"CYURD127\" \n\nexport {initialState, appid, ctrltypes, dev1}\n","import React,{Suspense} from 'react';\r\nimport {ClientSocket} from '../../../@mckennatim/mqtt-hooks/src'\r\n// import {ClientSocket} from '@mckennatim/mqtt-hooks'\r\nimport {AProvider} from '../contexts/acontext'\r\nimport { NavCtrl } from \"./NavCtrl.js\";\r\nimport {cfg} from '../utilities/getCfg'\r\nimport {appid, dev1} from \"../appInit\"\r\n\r\nconsole.log(cfg);\r\n\r\n\r\nexport const App=(props)=> {\r\n  const{title}=props\r\n\r\n  return (\r\n    <ClientSocket cfg={cfg}>\r\n      <AProvider>\r\n        <Suspense fallback={<div>Loading...</div>}>\r\n          <div>\r\n            <NavCtrl title={title} appid={appid} dev1={dev1}/>\r\n          </div>\r\n        </Suspense>\r\n      </AProvider>\r\n    </ClientSocket>\r\n  );\r\n}\r\n\r\n","import React,{useContext} from 'react';\nimport {AContext} from '../contexts/acontext'\nimport ResponsivePages from  './ResponsivePages.js'\n\nexport const NavCtrl=(props)=>{\n  const{title, appid, dev1}=props\n  const{devInfo, path, handlePath} = useContext(AContext)\n  const{panes}=devInfo\n\n  const renderNav = ()=>{\n    return(\n    <nav style ={styles.nav.nav}>\n      <span style={{\n        fontFamily: 'Arial, sans-serif',\n        fontSize: '1.2em',\n        fontWeight: 'bold',\n        padding: '10px',\n        backgroundColor: 'whitesmoke',\n        borderRadius: '5px',\n        marginBottom: '10px'\n      }}> {appid} {dev1}</span>\n      <ul style ={styles.nav.ul}>\n        {/* <li style ={styles.nav.li}>\n          <a onClick={handlePath('/jobs')}>jobs</a>\n        </li>\n        <li style ={styles.nav.li}>\n          <a onClick={handlePath('/addjob')}>addjob</a>\n        </li> */}\n        <li style ={styles.nav.li}>\n          <a onClick={handlePath('/help')}>help</a>\n        </li>\n        <li style ={styles.nav.li}>\n          <a onClick={handlePath('/control')}>control</a>\n        </li>\n      </ul>\n    </nav>\n    )\n  }\n\n  return(\n  <div> \n    {renderNav()}\n    <ResponsivePages/>\n  </div>    \n  )\n}\n\n\nconst styles ={\n  nav: {\n    ul:{\n      fontFamily: 'Arial, sans-serif',\n      textAlign: 'left',\n      listStyleType: 'none',\n      paddingLeft: '12px'\n    },\n    li:{\n      display: 'inline',\n      padding: '2px',\n      paddingRight: '4px',\n      background: 'whitesmoke'\n    },\n  },\n}","import React, {useContext, useEffect} from 'react'\nimport {compoi, multi} from '../responsiveRoutes'\nimport {AContext} from '../contexts/acontext'\n\nconst styles={\n  container:{\n    display: 'grid',\n    gridTemplateColumns: 'repeat(auto-fit, minmax(240px, 1fr))',\n    backgroundColor: '#ece6ed'\n  },\n}\n\nexport default function ResponsivePages(){\n  const{devInfo, path, visiblePages, setVisiblePages} = useContext(AContext)\n  const {panes} = devInfo\n\n  useEffect(()=>{\n    let noSlPath = path.substr(1)\n    if(!multi[noSlPath]){\n      noSlPath = multi.default\n    }\n    let pgArr =[]\n  \n    const nextBest =(arr, panes)=>{\n      const sa= arr.filter((a)=>a.length == panes)\n      if(sa.length>0) {\n        pgArr = sa\n        return sa\n      } else {\n        nextBest(arr, panes-1)\n      }\n    }\n  \n    nextBest(multi[noSlPath], panes)\n    setVisiblePages(pgArr[0])\n  },[panes, path])\n\n\n  const renderPages = visiblePages.map((n,i)=>{\n    return React.createElement(compoi[n], {key:i}, null)\n  })\n\n  return(\n    <div style ={styles.container} >\n      {renderPages}\n    </div>    \n  )\n}","import React, { createContext, useReducer, useState } from 'react';\r\nimport { createHashHistory } from 'history';\r\nlet history = createHashHistory();\r\n\r\nconst aInitState = {\r\n  job2edit:'',\r\n  foundJobs:[],\r\n  dev:{},\r\n  path:''\r\n}\r\n\r\nexport const AContext = createContext(aInitState)\r\n\r\n/* app specific actions*/\r\nexport const AReducer= (state,action)=>{\r\n  switch(action.type){\r\n    case 'sETjOB2eDIT':\r\n      return{...state, job2edit:action.payload}\r\n    case 'sETfOUNDjOBS':\r\n      return {...state, foundJobs:action.payload}\r\n  }\r\n}\r\n\r\nexport const AProvider = ({children})=>{\r\n  /* dispatcher to context of app specific state change*/\r\n  const [state, dispatch] = useReducer(AReducer, aInitState)\r\n\r\n  /*general router and responsive code */\r\n  const [devInfo,setDevInfo] =useState(getDevInfo())\r\n  const [visiblePages, setVisiblePages] = useState([])\r\n  const[path, setPath] = useState(window.location.hash.substr(1))\r\n\r\n  function getDevInfo (){\r\n    let ws = window.innerWidth\r\n    let idx\r\n    const types= [\r\n      {dev:'watch', panes:1}, \r\n      {dev:'phone', panes:1}, \r\n      {dev:'phonel', panes:2}, \r\n      {dev:'tablet', panes:2}, \r\n      {dev:'tabletL', panes:3}, \r\n      {dev:'laptop', panes:3}, \r\n      {dev:'monitor', panes:4} \r\n    ]\r\n    const sizes= [300, 500, 600, 800, 900, 1800, 3000]\r\n    sizes.reduce((prev, curr, i)=>{ \r\n      if(prev < ws && ws <= curr){idx = i}\r\n      return curr \r\n    }, 0);\r\n    return types[idx]\r\n  }\r\n\r\n  window.onresize=()=>{\r\n    if(getDevInfo().panes != devInfo.panes){\r\n      setDevInfo(getDevInfo())\r\n    }\r\n  }\r\n  \r\n  window.onhashchange = ()=>{\r\n    setPath(window.location.hash.substr(1))\r\n  }\r\n  \r\n  const handlePath=(p)=>()=>{\r\n    history.push(p)\r\n    setPath(p)\r\n  }\r\n\r\n  \r\n\r\n  /*app specific dispatch code for objects and functions in context */\r\n  function setJob2edit(job2edit) {\r\n    dispatch({\r\n        type: 'sETjOB2eDIT',\r\n        payload: job2edit\r\n    });\r\n  }\r\n\r\n  function setFoundJobs(foundJobs){\r\n    dispatch({\r\n      type: 'sETfOUNDjOBS',\r\n      payload: foundJobs\r\n    })\r\n  }\r\n\r\n  return(\r\n    <AContext.Provider value={{\r\n      devInfo:devInfo,\r\n      path:path,\r\n      handlePath,\r\n      visiblePages,\r\n      setVisiblePages,\r\n      foundJobs: state.foundJobs,\r\n      job2edit: state.job2edit,\r\n      setFoundJobs,\r\n      setJob2edit\r\n    }}>\r\n      {children}\r\n    </AContext.Provider>\r\n  )\r\n}","import React from 'react';\r\nimport { createRoot } from 'react-dom/client';\r\nimport {App} from './components/App.js'\r\n \r\nconst title = 'WS MQTT Client';\r\n\r\nconst container = document.getElementById('app');\r\nconst root = createRoot(container);\r\nroot.render(<App title={title} />);\r\n\r\n\r\n","import React from \"react\";\nconst compoi = {};\ncompoi[\"Help\"] = React.lazy(() => import(\"./components/Help.js\"));\ncompoi[\"Jobs\"] = React.lazy(() => import(\"./components/Jobs.js\"));\ncompoi[\"AddJob\"] = React.lazy(() => import(\"./components/AddJob.js\"));\ncompoi[\"Control\"] = React.lazy(() => import(\"./components/Control.js\"));\n\nconst multi = {\n  default: \"control\",\n  jobs: [[\"Jobs\"], [\"Jobs\", \"Help\"], [\"Jobs\", \"AddJob\", \"Help\"]],\n  addjob: [[\"AddJob\"], [\"AddJob\", \"Jobs\"], [\"AddJob\", \"Jobs\", \"Help\"]],\n  help: [[\"Help\"], [\"Help\", \"Control\"]],\n  control: [[\"Control\"], [\"Control\", \"Help\"]],\n};\n\nexport { compoi, multi };\n","import env from '../../denv.json'\nimport {storageLocal} from './storageLocal'\nimport {appid,dev1} from \"../appInit\"\n\nconst getTLD = (host) =>{\n  const sparr = host.split('.')\n  if(sparr.length==3) return `${sparr[1]}.${sparr[2]}`//skip subdomain\n  else if(sparr.length==4) return 'localhost' //192.168.1.35\n  else return 'localhost'\n}\n\nconst tld = getTLD(window.location.hostname)\n\nconst getURLS =(tld)=>{\n  const urls = env[tld]\n  const hostname= window.location.hostname\n  if (hostname.split('.').length==4) {\n    const keys= Object.keys(urls)\n    keys.map((k)=>{\n      const str =  urls[k]\n      const nstr=str.replace('localhost', hostname)  \n      urls[k] = nstr\n    })\n  }\n  return urls\n}\nconst urls = getURLS(tld)\nconsole.log('urls: ', urls);\n\nconst authqry = urls.soauth+\"/spa/\"+env.appid+\"?apiURL=\"+encodeURIComponent(urls.api)+\"&cbPath=\"+encodeURIComponent(urls.cbPath)\n\nconst signupqry = urls.soauth+\"/spa/signup?apiURL=\"+encodeURIComponent(urls.api)+\"&cbPath=\"+encodeURIComponent(urls.cbPath)\n\nconst url = urls\n\n// const cfg={authqry, appid:appid, signupqry, url, urls, cbPath:env.cbPath}\nconst cfg={authqry, \n  appid:appid, \n  mqtt_server:env.mqtt_server, \n  mqtt_port:env.mqtt_port,\n  signupqry, \n  url, \n  urls, \n  cbPath:urls.cbPath\n}\n\nconst ls = storageLocal(cfg.appid);\n\nconst makeHref = (host, app, rt) => {\n  console.log(\"host: \", host);\n  let href;\n  if (\n    host == \"iot.sitebuilt.net\" ||\n    host == \"iot.parleyvale.com\" ||\n    host == \"hvac.parleyvale.com\"||\n    host == \"apps.sitebuilt.net\"\n    \n  ) {\n    href = `../${app}/`;\n  } else {\n    href = `/hooks2/iot/${app}/dist/`;\n  }\n  if (rt) {\n    href += rt;\n  }\n  return href;\n};\n\nexport { ls, cfg, makeHref, dev1 };\n","\n\nconst storageLocal = (itemName)=>{\n  var itemStr =  localStorage.getItem(itemName)\n  const getItem=()=>{\n    // console.log('in getItem')\n    if(!localStorage.getItem(itemName)){\n      return null\n    }\n    return JSON.parse(localStorage.getItem(itemName))\n  }\n  const setItem=(obj)=>{\n    localStorage.setItem(itemName, JSON.stringify(obj))\n  }\n  const removeItem =()=>{\n    localStorage.removeItem(itemName)\n  }\n  return{\n    removeItem: removeItem,\n    itemName: itemName,\n    itemStr: itemStr,\n    getItem: getItem,\n    setItem: setItem,\n    modItem: (key, val)=>{\n      var ni= getItem();\n      if(ni){\n        ni[key] =val\n        setItem(ni)\n      }\n    },\n    getToken: ()=>getItem() ? getItem().token : null,\n    getKey: (key)=>getItem() ? getItem()[key] : null\n  }\n}\n\n\nexport{storageLocal}\n\n\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".\" + __webpack_require__.h() + \".js\";\n};","__webpack_require__.h = () => (\"36ff9202be68d6bfdc3f\")","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var inProgress = {};\nvar dataWebpackPrefix = \"edgewater:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript && document.currentScript.tagName.toUpperCase() === 'SCRIPT')\n\t\tscriptUrl = document.currentScript.src;\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) {\n\t\t\tvar i = scripts.length - 1;\n\t\t\twhile (i > -1 && (!scriptUrl || !/^http(s?):/.test(scriptUrl))) scriptUrl = scripts[i--].src;\n\t\t}\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/^blob:/, \"\").replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"main\": 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkedgewater\"] = self[\"webpackChunkedgewater\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/index.js\")))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n",""],"names":["createContext","Context","fetchWeekSched","ls","cfg","devid","senrel","lsh","getItem","url","api","options","headers","method","fetch","then","response","json","p2","Promise","resolve","qmessage","replaceWeekSched","keyvals","console","log","body","JSON","stringify","replaceZoneScheds","fetchSched","dow","concat","deleteHolds","ds","replaceHold","db","fetchBigData","ProviderLib","processMessage","processMessageLib","useDevSpecs","useDevSpecsLib","connect","monitorFocus","subscribe","req","setupSocket","startWhen","endWhen","newInterval","add2sched","m2hm","m2ms","getNow","setRelayStatus","whereInSched","hma2time","getZinfo","label","zones","find","zone","id","getDinfo","devs","found","Object","keys","map","dev","a","sr","ClientSocket","client","cb","onSuccess","onFailure","message","errorMessage","useSSL","userName","email","password","token","window","onfocus","isConnected","onblur","disconnect","err","publish","topics","top","idx","toparr","subFailure","thedevs","factory","root","self","_typeof","global","define","amd","exports","module","Paho","MQTT","version","buildLevel","MESSAGE_TYPE","CONNECT","CONNACK","PUBLISH","PUBACK","PUBREC","PUBREL","PUBCOMP","SUBSCRIBE","SUBACK","UNSUBSCRIBE","UNSUBACK","PINGREQ","PINGRESP","DISCONNECT","validate","obj","key","hasOwnProperty","Error","format","ERROR","INVALID_TYPE","errorStr","scope","f","apply","arguments","OK","code","text","CONNECT_TIMEOUT","SUBSCRIBE_TIMEOUT","UNSUBSCRIBE_TIMEOUT","PING_TIMEOUT","INTERNAL_ERROR","CONNACK_RETURNCODE","SOCKET_ERROR","SOCKET_CLOSE","MALFORMED_UTF","UNSUPPORTED","INVALID_STATE","INVALID_ARGUMENT","UNSUPPORTED_OPERATION","INVALID_STORED_DATA","INVALID_MQTT_MESSAGE_TYPE","MALFORMED_UNICODE","CONNACK_RC","error","substitutions","field","start","i","length","indexOf","part1","substring","part2","MqttProtoIdentifierv3","MqttProtoIdentifierv4","WireMessage","type","name","prototype","encode","first","remLength","topicStrLength","Array","destinationNameLength","messageIdentifier","undefined","mqttVersion","UTF8Length","clientId","willMessage","destinationName","willMessagePayloadBytes","payloadBytes","Uint8Array","byteLength","requestedQos","payloadMessage","duplicate","qos","retained","ArrayBuffer","buffer","mbi","encodeMBI","pos","byteStream","set","writeString","connectFlags","cleanSession","writeUint16","keepAliveInterval","decodeMessage","input","startingPos","messageInfo","digit","multiplier","endPos","wireMessage","connectAcknowledgeFlags","sessionPresent","returnCode","len","readUint16","topicName","parseUTF8","Message","subarray","offset","utf8Length","stringToUTF8","number","output","numBytes","charCode","charCodeAt","lowCharCode","isNaN","utf16","byte1","byte2","toString","byte3","byte4","String","fromCharCode","Pinger","_client","_window","_keepAliveInterval","isReset","pingReq","doTimeout","pinger","doPing","_trace","_disconnected","socket","send","timeout","setTimeout","reset","clearTimeout","cancel","Timeout","timeoutSeconds","action","args","ClientImpl","uri","host","port","path","_localKey","_msg_queue","_sentMessages","_receivedMessages","_notify_msg_sent","_message_identifier","_sequence","localStorage","restore","connected","maxMessageIdentifier","connectOptions","hostIndex","onConnectionLost","onMessageDelivered","onMessageArrived","traceFunction","_connectTimeout","sendPinger","receivePinger","receiveBuffer","_traceBuffer","_MAX_TRACE_ENTRIES","connectOptionsMasked","_traceMask","uris","_doConnect","filter","subscribeOptions","grantedQos","invocationContext","errorCode","timeOut","_requires_ack","_schedule_message","unsubscribe","unsubscribeOptions","callback","getTraceLog","Date","startTrace","stopTrace","wsurl","uriParts","split","join","WebSocket","binaryType","onopen","_on_socket_open","onmessage","_on_socket_message","onerror","_on_socket_error","onclose","_on_socket_close","push","_process_queue","store","prefix","storedMessage","pubRecReceived","hex","messageBytes","payloadHex","sequence","setItem","value","parse","x","parseInt","fifo","reverse","pop","_socket_send","messageCount","event","data","messages","_deframeMessages","_handleMessage","byteArray","newData","result","stack","sentMessage","removeItem","receivedMessage","sequencedMessages","msgId","sort","b","pubRelMessage","_receivePublish","_receiveMessage","pubCompMessage","wireMessageMasked","pubAckMessage","pubRecMessage","wireMmessage","errorText","readyState","close","mqttVersionExplicit","record","slice","call","severity","max","shift","traceObject","masked","traceObjectMasked","attr","Client","match","ipv6AddSBracket","clientIdLength","_getHost","_setHost","_getPort","_setPort","_getPath","_setPath","_getURI","_setURI","_getClientId","_setClientId","_getOnConnectionLost","_setOnConnectionLost","newOnConnectionLost","_getOnMessageDelivered","_setOnMessageDelivered","newOnMessageDelivered","_getOnMessageArrived","_setOnMessageArrived","newOnMessageArrived","_getTrace","_setTrace","trace","hosts","ports","stringPayload","usingURIs","test","ipv6","topic","payload","newHost","newPort","newPath","newClientId","newTraceFunction","newPayload","Int8Array","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","_getPayloadString","_getPayloadBytes","_getDestinationName","_setDestinationName","newDestinationName","_getQos","_setQos","newQos","_getRetained","_setRetained","newRetained","_getDuplicate","_setDuplicate","newDuplicate","payloadString","messageReducer","state","newstate","reduce","newdata","tmp","_objectSpread","d","extractLabelArray","srlabelarr","tIMElEFT","v","processRawMessage","mess","narr","pls","bigstate","newstates","devinfArr","devinf","darr","timeleft","pro","entries","prt","jdtime","nsarr","processed_message","React","Component","require","Provider","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","_defineProperty","_assertThisInitialized","mqtt_server","mqtt_port","appid","Math","random","responseObject","_createClass","render","createElement","children","default","useEffect","useState","geta","dotstr","xs","_useState","_useState2","_slicedToArray","setZones","_useState3","_useState4","binfo","setBinfo","_useState5","_useState6","setDevs","_useState7","_useState8","specs","setSpecs","_useState9","_useState10","setError","_useState11","_useState12","mounted","setMounted","fetchDevZones","didCancel","tzadj","hr","getHours","min","getMinutes","t","tzadjmin","getTimezoneOffset","adjmin","floor","delay","_getNow","_getNow2","de","dur","add","decmin","hrs","sec","arrEqual","arr1","arr2","ae","acc","a1","hm2m","hm","last","arr","starttime","startval","endtime","endval","st","en","hma","ap","padStart","sched","now","findIndex","s","osched","nintvl","newsched","cur","unshift","bs","status","initialState","zone1","ctype","zone2","zone3","zone4","temp_out","ctrltypes","dev1","Suspense","AProvider","NavCtrl","App","title","fallback","useContext","AContext","ResponsivePages","_useContext","devInfo","handlePath","panes","renderNav","style","styles","nav","fontFamily","fontSize","fontWeight","padding","backgroundColor","borderRadius","marginBottom","ul","li","onClick","textAlign","listStyleType","paddingLeft","display","paddingRight","background","compoi","multi","container","gridTemplateColumns","visiblePages","setVisiblePages","noSlPath","substr","pgArr","nextBest","sa","renderPages","n","useReducer","createHashHistory","history","aInitState","job2edit","foundJobs","AReducer","_ref","_useReducer","_useReducer2","dispatch","getDevInfo","setDevInfo","location","hash","setPath","ws","innerWidth","types","sizes","prev","curr","onresize","onhashchange","p","setJob2edit","setFoundJobs","createRoot","document","getElementById","lazy","jobs","addjob","help","control","env","storageLocal","getTLD","sparr","tld","hostname","getURLS","urls","k","str","nstr","replace","authqry","soauth","encodeURIComponent","cbPath","signupqry","makeHref","app","rt","href","itemName","itemStr","modItem","val","ni","getToken","getKey"],"sourceRoot":""}